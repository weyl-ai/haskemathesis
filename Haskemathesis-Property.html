<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Haskemathesis.Property</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">haskemathesis-0.1.0.0</span><ul class="links" id="page-menu"><li><a href="src/Haskemathesis.Property.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Haskemathesis.Property</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Single Operation Properties</a></li><li><a href="#g:2">Spec-Level Properties</a></li><li><a href="#g:3">Timeout Utilities</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>High-level property generation for resolved operations and specs.</p><p>This module provides the main entry points for generating Hedgehog properties
from OpenAPI specifications. Properties can be generated for individual
operations or entire specs, with various configuration options.</p><h3>Basic Usage</h3><p>Generate properties for all operations in a spec:</p><pre>import Haskemathesis.OpenApi.Loader (loadOpenApiFile)
import Haskemathesis.OpenApi.Resolve (resolveOperations)
import Haskemathesis.Property (propertiesForSpec)
import Haskemathesis.Check.Standard (defaultChecks)

main :: IO ()
main = do
    Right spec &lt;- loadOpenApiFile &quot;api.yaml&quot;
    let ops = resolveOperations spec
        props = propertiesForSpec Nothing defaultChecks myExecutor ops
    -- Run properties with your favorite test framework
</pre><h3>Configuration</h3><p>For more control, use <code><a href="Haskemathesis-Property.html#v:propertiesForSpecWithConfig" title="Haskemathesis.Property">propertiesForSpecWithConfig</a></code>:</p><pre>import Haskemathesis.Config

myConfig :: TestConfig
myConfig = defaultTestConfig
    { tcPropertyCount = 200
    , tcNegativeTesting = True
    , tcOperationFilter = filterByTag &quot;public&quot;
    }
</pre></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:propertyForOperation">propertyForOperation</a> :: <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Haskemathesis-Execute-Types.html#t:BaseUrl" title="Haskemathesis.Execute.Types">BaseUrl</a> -&gt; [<a href="Haskemathesis-Check-Types.html#t:Check" title="Haskemathesis.Check.Types">Check</a>] -&gt; <a href="Haskemathesis-Execute-Types.html#t:ExecutorWithTimeout" title="Haskemathesis.Execute.Types">ExecutorWithTimeout</a> -&gt; <a href="Haskemathesis-OpenApi-Types.html#t:ResolvedOperation" title="Haskemathesis.OpenApi.Types">ResolvedOperation</a> -&gt; <a href="file:///nix/store/4n4z2liv1a3rcrl66a6rrlxnr1azv1dp-hedgehog-1.5-doc/share/doc/hedgehog-1.5/html/Hedgehog.html#t:Property" title="Hedgehog">Property</a></li><li class="src short"><a href="#v:propertyForOperationWithConfig">propertyForOperationWithConfig</a> :: <a href="file:///nix/store/n9bq8nyqbcrs9rhllk8bh2xqlhba601s-openapi3-3.2.4-doc/share/doc/openapi3-3.2.4/html/Data-OpenApi-Internal.html#t:OpenApi" title="Data.OpenApi.Internal">OpenApi</a> -&gt; <a href="Haskemathesis-Config.html#t:TestConfig" title="Haskemathesis.Config">TestConfig</a> -&gt; <a href="Haskemathesis-Execute-Types.html#t:ExecutorWithTimeout" title="Haskemathesis.Execute.Types">ExecutorWithTimeout</a> -&gt; <a href="Haskemathesis-OpenApi-Types.html#t:ResolvedOperation" title="Haskemathesis.OpenApi.Types">ResolvedOperation</a> -&gt; <a href="file:///nix/store/4n4z2liv1a3rcrl66a6rrlxnr1azv1dp-hedgehog-1.5-doc/share/doc/hedgehog-1.5/html/Hedgehog.html#t:Property" title="Hedgehog">Property</a></li><li class="src short"><a href="#v:propertyForOperationNegative">propertyForOperationNegative</a> :: <a href="file:///nix/store/n9bq8nyqbcrs9rhllk8bh2xqlhba601s-openapi3-3.2.4-doc/share/doc/openapi3-3.2.4/html/Data-OpenApi-Internal.html#t:OpenApi" title="Data.OpenApi.Internal">OpenApi</a> -&gt; <a href="Haskemathesis-Config.html#t:TestConfig" title="Haskemathesis.Config">TestConfig</a> -&gt; <a href="Haskemathesis-Execute-Types.html#t:ExecutorWithTimeout" title="Haskemathesis.Execute.Types">ExecutorWithTimeout</a> -&gt; <a href="Haskemathesis-OpenApi-Types.html#t:ResolvedOperation" title="Haskemathesis.OpenApi.Types">ResolvedOperation</a> -&gt; <a href="file:///nix/store/4n4z2liv1a3rcrl66a6rrlxnr1azv1dp-hedgehog-1.5-doc/share/doc/hedgehog-1.5/html/Hedgehog.html#t:Property" title="Hedgehog">Property</a></li><li class="src short"><a href="#v:propertiesForSpec">propertiesForSpec</a> :: <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Haskemathesis-Execute-Types.html#t:BaseUrl" title="Haskemathesis.Execute.Types">BaseUrl</a> -&gt; [<a href="Haskemathesis-Check-Types.html#t:Check" title="Haskemathesis.Check.Types">Check</a>] -&gt; <a href="Haskemathesis-Execute-Types.html#t:ExecutorWithTimeout" title="Haskemathesis.Execute.Types">ExecutorWithTimeout</a> -&gt; [<a href="Haskemathesis-OpenApi-Types.html#t:ResolvedOperation" title="Haskemathesis.OpenApi.Types">ResolvedOperation</a>] -&gt; [(<a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/text-2.1.3-cd15/Data-Text.html#t:Text" title="Data.Text">Text</a>, <a href="file:///nix/store/4n4z2liv1a3rcrl66a6rrlxnr1azv1dp-hedgehog-1.5-doc/share/doc/hedgehog-1.5/html/Hedgehog.html#t:Property" title="Hedgehog">Property</a>)]</li><li class="src short"><a href="#v:propertiesForSpecWithConfig">propertiesForSpecWithConfig</a> :: <a href="file:///nix/store/n9bq8nyqbcrs9rhllk8bh2xqlhba601s-openapi3-3.2.4-doc/share/doc/openapi3-3.2.4/html/Data-OpenApi-Internal.html#t:OpenApi" title="Data.OpenApi.Internal">OpenApi</a> -&gt; <a href="Haskemathesis-Config.html#t:TestConfig" title="Haskemathesis.Config">TestConfig</a> -&gt; <a href="Haskemathesis-Execute-Types.html#t:ExecutorWithTimeout" title="Haskemathesis.Execute.Types">ExecutorWithTimeout</a> -&gt; [<a href="Haskemathesis-OpenApi-Types.html#t:ResolvedOperation" title="Haskemathesis.OpenApi.Types">ResolvedOperation</a>] -&gt; [(<a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/text-2.1.3-cd15/Data-Text.html#t:Text" title="Data.Text">Text</a>, <a href="file:///nix/store/4n4z2liv1a3rcrl66a6rrlxnr1azv1dp-hedgehog-1.5-doc/share/doc/hedgehog-1.5/html/Hedgehog.html#t:Property" title="Hedgehog">Property</a>)]</li><li class="src short"><a href="#v:propertiesForSpecNegative">propertiesForSpecNegative</a> :: <a href="file:///nix/store/n9bq8nyqbcrs9rhllk8bh2xqlhba601s-openapi3-3.2.4-doc/share/doc/openapi3-3.2.4/html/Data-OpenApi-Internal.html#t:OpenApi" title="Data.OpenApi.Internal">OpenApi</a> -&gt; <a href="Haskemathesis-Config.html#t:TestConfig" title="Haskemathesis.Config">TestConfig</a> -&gt; <a href="Haskemathesis-Execute-Types.html#t:ExecutorWithTimeout" title="Haskemathesis.Execute.Types">ExecutorWithTimeout</a> -&gt; [<a href="Haskemathesis-OpenApi-Types.html#t:ResolvedOperation" title="Haskemathesis.OpenApi.Types">ResolvedOperation</a>] -&gt; [(<a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/text-2.1.3-cd15/Data-Text.html#t:Text" title="Data.Text">Text</a>, <a href="file:///nix/store/4n4z2liv1a3rcrl66a6rrlxnr1azv1dp-hedgehog-1.5-doc/share/doc/hedgehog-1.5/html/Hedgehog.html#t:Property" title="Hedgehog">Property</a>)]</li><li class="src short"><a href="#v:effectiveTimeout">effectiveTimeout</a> :: <a href="Haskemathesis-Config.html#t:TestConfig" title="Haskemathesis.Config">TestConfig</a> -&gt; <a href="Haskemathesis-OpenApi-Types.html#t:ResolvedOperation" title="Haskemathesis.OpenApi.Types">ResolvedOperation</a> -&gt; <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Int.html#t:Int" title="Data.Int">Int</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Single Operation Properties</h1></a><div class="top"><p class="src"><a id="v:propertyForOperation" class="def">propertyForOperation</a> :: <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Haskemathesis-Execute-Types.html#t:BaseUrl" title="Haskemathesis.Execute.Types">BaseUrl</a> -&gt; [<a href="Haskemathesis-Check-Types.html#t:Check" title="Haskemathesis.Check.Types">Check</a>] -&gt; <a href="Haskemathesis-Execute-Types.html#t:ExecutorWithTimeout" title="Haskemathesis.Execute.Types">ExecutorWithTimeout</a> -&gt; <a href="Haskemathesis-OpenApi-Types.html#t:ResolvedOperation" title="Haskemathesis.OpenApi.Types">ResolvedOperation</a> -&gt; <a href="file:///nix/store/4n4z2liv1a3rcrl66a6rrlxnr1azv1dp-hedgehog-1.5-doc/share/doc/hedgehog-1.5/html/Hedgehog.html#t:Property" title="Hedgehog">Property</a> <a href="src/Haskemathesis.Property.html#propertyForOperation" class="link">Source</a> <a href="#v:propertyForOperation" class="selflink">#</a></p><div class="doc"><p>Generate a Hedgehog property for a single operation using basic configuration.</p><p>This is the simplest way to create a property for an operation. The property
will generate random requests based on the OpenAPI schema and execute them
against your API, then run the provided checks on the response.</p><h3>Parameters</h3><ul><li><code>mBase</code> - Optional base URL for rendering failure reports (can be <code><a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code>)</li><li><code>checks</code> - List of <code><a href="Haskemathesis-Check-Types.html#t:Check" title="Haskemathesis.Check.Types">Check</a></code> functions to validate responses</li><li><code>execute</code> - Function to execute an <code><a href="Haskemathesis-Execute-Types.html#t:ApiRequest" title="Haskemathesis.Execute.Types">ApiRequest</a></code> and return an <code><a href="Haskemathesis-Execute-Types.html#t:ApiResponse" title="Haskemathesis.Execute.Types">ApiResponse</a></code></li><li><code>op</code> - The <code><a href="Haskemathesis-OpenApi-Types.html#t:ResolvedOperation" title="Haskemathesis.OpenApi.Types">ResolvedOperation</a></code> to generate tests for</li></ul><h3>Example</h3><pre>let prop = propertyForOperation (Just &quot;<a href="http://localhost:8080&quot;)">http://localhost:8080&quot;)</a> checks httpExecutor myOperation
</pre></div></div><div class="top"><p class="src"><a id="v:propertyForOperationWithConfig" class="def">propertyForOperationWithConfig</a> :: <a href="file:///nix/store/n9bq8nyqbcrs9rhllk8bh2xqlhba601s-openapi3-3.2.4-doc/share/doc/openapi3-3.2.4/html/Data-OpenApi-Internal.html#t:OpenApi" title="Data.OpenApi.Internal">OpenApi</a> -&gt; <a href="Haskemathesis-Config.html#t:TestConfig" title="Haskemathesis.Config">TestConfig</a> -&gt; <a href="Haskemathesis-Execute-Types.html#t:ExecutorWithTimeout" title="Haskemathesis.Execute.Types">ExecutorWithTimeout</a> -&gt; <a href="Haskemathesis-OpenApi-Types.html#t:ResolvedOperation" title="Haskemathesis.OpenApi.Types">ResolvedOperation</a> -&gt; <a href="file:///nix/store/4n4z2liv1a3rcrl66a6rrlxnr1azv1dp-hedgehog-1.5-doc/share/doc/hedgehog-1.5/html/Hedgehog.html#t:Property" title="Hedgehog">Property</a> <a href="src/Haskemathesis.Property.html#propertyForOperationWithConfig" class="link">Source</a> <a href="#v:propertyForOperationWithConfig" class="selflink">#</a></p><div class="doc"><p>Generate a property with full configuration support including authentication.</p><p>This function provides more control than <code><a href="Haskemathesis-Property.html#v:propertyForOperation" title="Haskemathesis.Property">propertyForOperation</a></code> by accepting
a <code><a href="Haskemathesis-Config.html#t:TestConfig" title="Haskemathesis.Config">TestConfig</a></code> record. It supports:</p><ul><li>Authentication via <code><a href="Haskemathesis-Config.html#v:tcAuthConfig" title="Haskemathesis.Config">tcAuthConfig</a></code></li><li>Custom property counts via <code><a href="Haskemathesis-Config.html#v:tcPropertyCount" title="Haskemathesis.Config">tcPropertyCount</a></code></li><li>Operation filtering via <code><a href="Haskemathesis-Config.html#v:tcOperationFilter" title="Haskemathesis.Config">tcOperationFilter</a></code></li><li>Automatic timeout handling for streaming endpoints</li></ul><h3>Parameters</h3><ul><li><code>openApi</code> - The full OpenAPI specification (needed for auth resolution)</li><li><code>config</code> - The <code><a href="Haskemathesis-Config.html#t:TestConfig" title="Haskemathesis.Config">TestConfig</a></code> controlling test generation</li><li><code>execute</code> - Timeout-aware executor (see <code><a href="Haskemathesis-Execute-Types.html#t:ExecutorWithTimeout" title="Haskemathesis.Execute.Types">ExecutorWithTimeout</a></code>)</li><li><code>op</code> - The operation to test</li></ul><h3>Example</h3><pre>config = defaultTestConfig { tcPropertyCount = 200 }
prop = propertyForOperationWithConfig spec config httpExecutor myOperation
</pre></div></div><div class="top"><p class="src"><a id="v:propertyForOperationNegative" class="def">propertyForOperationNegative</a> :: <a href="file:///nix/store/n9bq8nyqbcrs9rhllk8bh2xqlhba601s-openapi3-3.2.4-doc/share/doc/openapi3-3.2.4/html/Data-OpenApi-Internal.html#t:OpenApi" title="Data.OpenApi.Internal">OpenApi</a> -&gt; <a href="Haskemathesis-Config.html#t:TestConfig" title="Haskemathesis.Config">TestConfig</a> -&gt; <a href="Haskemathesis-Execute-Types.html#t:ExecutorWithTimeout" title="Haskemathesis.Execute.Types">ExecutorWithTimeout</a> -&gt; <a href="Haskemathesis-OpenApi-Types.html#t:ResolvedOperation" title="Haskemathesis.OpenApi.Types">ResolvedOperation</a> -&gt; <a href="file:///nix/store/4n4z2liv1a3rcrl66a6rrlxnr1azv1dp-hedgehog-1.5-doc/share/doc/hedgehog-1.5/html/Hedgehog.html#t:Property" title="Hedgehog">Property</a> <a href="src/Haskemathesis.Property.html#propertyForOperationNegative" class="link">Source</a> <a href="#v:propertyForOperationNegative" class="selflink">#</a></p><div class="doc"><p>Generate a negative testing property for an operation.</p><p>Negative testing generates <em>invalid</em> requests to verify that the API
properly rejects malformed input. This property generates mutations
that violate the OpenAPI schema (e.g., missing required fields,
wrong content types, invalid values) and verifies the API rejects them.</p><h3>When to Use</h3><p>Use this when you want to verify your API's error handling and
input validation. The API should return 4xx status codes for
these invalid requests.</p><h3>Parameters</h3><ul><li><code>openApi</code> - The full OpenAPI specification</li><li><code>config</code> - The <code><a href="Haskemathesis-Config.html#t:TestConfig" title="Haskemathesis.Config">TestConfig</a></code> (negative testing is enabled separately)</li><li><code>execute</code> - Timeout-aware executor</li><li><code>op</code> - The operation to test</li></ul><h3>Example</h3><pre>config = defaultTestConfig { tcPropertyCount = 50 }
negProp = propertyForOperationNegative spec config httpExecutor myOperation
</pre></div></div><a href="#g:2" id="g:2"><h1>Spec-Level Properties</h1></a><div class="top"><p class="src"><a id="v:propertiesForSpec" class="def">propertiesForSpec</a> :: <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Haskemathesis-Execute-Types.html#t:BaseUrl" title="Haskemathesis.Execute.Types">BaseUrl</a> -&gt; [<a href="Haskemathesis-Check-Types.html#t:Check" title="Haskemathesis.Check.Types">Check</a>] -&gt; <a href="Haskemathesis-Execute-Types.html#t:ExecutorWithTimeout" title="Haskemathesis.Execute.Types">ExecutorWithTimeout</a> -&gt; [<a href="Haskemathesis-OpenApi-Types.html#t:ResolvedOperation" title="Haskemathesis.OpenApi.Types">ResolvedOperation</a>] -&gt; [(<a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/text-2.1.3-cd15/Data-Text.html#t:Text" title="Data.Text">Text</a>, <a href="file:///nix/store/4n4z2liv1a3rcrl66a6rrlxnr1azv1dp-hedgehog-1.5-doc/share/doc/hedgehog-1.5/html/Hedgehog.html#t:Property" title="Hedgehog">Property</a>)] <a href="src/Haskemathesis.Property.html#propertiesForSpec" class="link">Source</a> <a href="#v:propertiesForSpec" class="selflink">#</a></p><div class="doc"><p>Generate properties for all operations in a spec using basic configuration.</p><p>This is the simplest way to generate a complete test suite from an
OpenAPI specification. It creates a list of named properties, one
for each resolved operation.</p><h3>Return Value</h3><p>Returns a list of tuples where:
* First element: A descriptive label (operation ID or method+path)
* Second element: The Hedgehog <code><a href="file:///nix/store/4n4z2liv1a3rcrl66a6rrlxnr1azv1dp-hedgehog-1.5-doc/share/doc/hedgehog-1.5/html/Hedgehog.html#t:Property" title="Hedgehog">Property</a></code> for testing that operation</p><h3>Parameters</h3><ul><li><code>mBase</code> - Optional base URL for rendering failure reports</li><li><code>checks</code> - List of <code><a href="Haskemathesis-Check-Types.html#t:Check" title="Haskemathesis.Check.Types">Check</a></code> functions to validate responses</li><li><code>execute</code> - Function to execute requests</li><li><code>ops</code> - List of resolved operations (from <code>resolveOperations</code>)</li></ul><h3>Example</h3><pre>main :: IO ()
main = do
    Right spec &lt;- loadOpenApiFile &quot;api.yaml&quot;
    let ops = resolveOperations spec
        props = propertiesForSpec Nothing defaultChecks httpExecutor ops
    -- Run with your test framework
</pre></div></div><div class="top"><p class="src"><a id="v:propertiesForSpecWithConfig" class="def">propertiesForSpecWithConfig</a> :: <a href="file:///nix/store/n9bq8nyqbcrs9rhllk8bh2xqlhba601s-openapi3-3.2.4-doc/share/doc/openapi3-3.2.4/html/Data-OpenApi-Internal.html#t:OpenApi" title="Data.OpenApi.Internal">OpenApi</a> -&gt; <a href="Haskemathesis-Config.html#t:TestConfig" title="Haskemathesis.Config">TestConfig</a> -&gt; <a href="Haskemathesis-Execute-Types.html#t:ExecutorWithTimeout" title="Haskemathesis.Execute.Types">ExecutorWithTimeout</a> -&gt; [<a href="Haskemathesis-OpenApi-Types.html#t:ResolvedOperation" title="Haskemathesis.OpenApi.Types">ResolvedOperation</a>] -&gt; [(<a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/text-2.1.3-cd15/Data-Text.html#t:Text" title="Data.Text">Text</a>, <a href="file:///nix/store/4n4z2liv1a3rcrl66a6rrlxnr1azv1dp-hedgehog-1.5-doc/share/doc/hedgehog-1.5/html/Hedgehog.html#t:Property" title="Hedgehog">Property</a>)] <a href="src/Haskemathesis.Property.html#propertiesForSpecWithConfig" class="link">Source</a> <a href="#v:propertiesForSpecWithConfig" class="selflink">#</a></p><div class="doc"><p>Generate properties with full configuration support.</p><p>This function provides the most flexibility for generating properties.
It supports authentication, operation filtering, custom check sets,
automatic timeout handling for streaming endpoints, and can generate
both positive and negative test cases.</p><h3>Negative Testing</h3><p>When <code><a href="Haskemathesis-Config.html#v:tcNegativeTesting" title="Haskemathesis.Config">tcNegativeTesting</a></code> is <code><a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Bool.html#v:True" title="Data.Bool">True</a></code>, this function generates both
normal properties and negative testing properties (prefixed with
&quot;NEGATIVE:&quot;). Negative tests verify that the API properly rejects
invalid requests.</p><h3>Operation Filtering</h3><p>Only operations that satisfy <code><a href="Haskemathesis-Config.html#v:tcOperationFilter" title="Haskemathesis.Config">tcOperationFilter</a></code> will have properties
generated. This is useful for testing subsets of your API.</p><h3>Timeout Handling</h3><p>Streaming endpoints (SSE, NDJSON) are automatically detected and
tested with timeouts to prevent tests from hanging. The timeout
is determined by (in order of precedence):</p><ol><li value="1">Operation's <code>x-timeout</code> extension (if set in OpenAPI spec)</li><li value="2"><code><a href="Haskemathesis-Config.html#v:tcStreamingTimeout" title="Haskemathesis.Config">tcStreamingTimeout</a></code> from config (if operation is streaming)</li><li value="3">No timeout (for non-streaming operations without <code>x-timeout</code>)</li></ol><h3>Parameters</h3><ul><li><code>openApi</code> - The full OpenAPI specification (needed for auth resolution)</li><li><code>config</code> - The <code><a href="Haskemathesis-Config.html#t:TestConfig" title="Haskemathesis.Config">TestConfig</a></code> controlling all aspects of generation</li><li><code>execute</code> - Timeout-aware executor (see <code><a href="Haskemathesis-Execute-Types.html#t:ExecutorWithTimeout" title="Haskemathesis.Execute.Types">ExecutorWithTimeout</a></code>)</li><li><code>ops</code> - List of resolved operations</li></ul><h3>Example</h3><pre>config = defaultTestConfig
    { tcPropertyCount = 200
    , tcNegativeTesting = True
    , tcOperationFilter = filterByTag &quot;public&quot;
    }
props = propertiesForSpecWithConfig spec config httpExecutor ops
</pre></div></div><div class="top"><p class="src"><a id="v:propertiesForSpecNegative" class="def">propertiesForSpecNegative</a> :: <a href="file:///nix/store/n9bq8nyqbcrs9rhllk8bh2xqlhba601s-openapi3-3.2.4-doc/share/doc/openapi3-3.2.4/html/Data-OpenApi-Internal.html#t:OpenApi" title="Data.OpenApi.Internal">OpenApi</a> -&gt; <a href="Haskemathesis-Config.html#t:TestConfig" title="Haskemathesis.Config">TestConfig</a> -&gt; <a href="Haskemathesis-Execute-Types.html#t:ExecutorWithTimeout" title="Haskemathesis.Execute.Types">ExecutorWithTimeout</a> -&gt; [<a href="Haskemathesis-OpenApi-Types.html#t:ResolvedOperation" title="Haskemathesis.OpenApi.Types">ResolvedOperation</a>] -&gt; [(<a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/text-2.1.3-cd15/Data-Text.html#t:Text" title="Data.Text">Text</a>, <a href="file:///nix/store/4n4z2liv1a3rcrl66a6rrlxnr1azv1dp-hedgehog-1.5-doc/share/doc/hedgehog-1.5/html/Hedgehog.html#t:Property" title="Hedgehog">Property</a>)] <a href="src/Haskemathesis.Property.html#propertiesForSpecNegative" class="link">Source</a> <a href="#v:propertiesForSpecNegative" class="selflink">#</a></p><div class="doc"><p>Generate only negative testing properties.</p><p>This is a convenience function that generates only negative test properties
for all operations. Negative tests verify that the API properly rejects
invalid requests (mutations that violate the OpenAPI schema).</p><h3>Use Cases</h3><ul><li>Testing input validation and error handling</li><li>Verifying security controls reject malformed requests</li><li>Dedicated negative testing suites</li></ul><h3>Parameters</h3><ul><li><code>openApi</code> - The full OpenAPI specification</li><li><code>config</code> - The <code><a href="Haskemathesis-Config.html#t:TestConfig" title="Haskemathesis.Config">TestConfig</a></code> (negative testing flag is ignored, always enabled)</li><li><code>execute</code> - Timeout-aware executor</li><li><code>ops</code> - List of resolved operations</li></ul><h3>Example</h3><pre>-- Dedicated negative testing suite
negativeProps = propertiesForSpecNegative spec defaultConfig httpExecutor ops
</pre></div></div><a href="#g:3" id="g:3"><h1>Timeout Utilities</h1></a><div class="top"><p class="src"><a id="v:effectiveTimeout" class="def">effectiveTimeout</a> :: <a href="Haskemathesis-Config.html#t:TestConfig" title="Haskemathesis.Config">TestConfig</a> -&gt; <a href="Haskemathesis-OpenApi-Types.html#t:ResolvedOperation" title="Haskemathesis.OpenApi.Types">ResolvedOperation</a> -&gt; <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Haskemathesis.Property.html#effectiveTimeout" class="link">Source</a> <a href="#v:effectiveTimeout" class="selflink">#</a></p><div class="doc"><p>Compute the effective timeout for an operation.</p><p>This function determines the appropriate timeout to use for an operation
based on the following precedence:</p><ol><li value="1"><strong>Operation's <code>x-timeout</code></strong>: If the OpenAPI spec has <code>x-timeout</code> set
   on the operation, that value is used (in milliseconds).</li><li value="2"><strong>Config's streaming timeout</strong>: If the operation is detected as
   streaming (has <code>text/event-stream</code> or <code>application/x-ndjson</code> content
   types), the <code><a href="Haskemathesis-Config.html#v:tcStreamingTimeout" title="Haskemathesis.Config">tcStreamingTimeout</a></code> from config is used.</li><li value="3"><strong>No timeout</strong>: For non-streaming operations without <code>x-timeout</code>,
   <code><a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> is returned (use HTTP client default).</li></ol><h3>Example</h3><pre>let timeout = effectiveTimeout config operation
-- timeout is Just 2000 if x-timeout: 2000 in spec
-- timeout is Just 1000 if streaming with default config
-- timeout is Nothing for normal operations
</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.31.1</p></div></body></html>