<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Haskemathesis.Gen.Pattern</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">haskemathesis-0.1.0.0</span><ul class="links" id="page-menu"><li><a href="src/Haskemathesis.Gen.Pattern.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Haskemathesis.Gen.Pattern</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Pure regex pattern to string generator.</p><p>This module generates strings that match a given regular expression pattern,
without requiring external SMT solvers. It uses the LogicT monad for
backtracking enumeration of possible matches.</p><p>Adapted from regex-genex (Audrey Tang, Public Domain/CC0).</p><h3>Supported Features</h3><ul><li>Character classes: <code>[abc]</code>, <code>[^abc]</code>, <code>[a-z]</code></li><li>Predefined classes: <code>\d</code>, <code>\w</code>, <code>\s</code>, <code>\D</code>, <code>\W</code>, <code>\S</code></li><li>Quantifiers: <code>*</code>, <code>+</code>, <code>?</code>, <code>{n}</code>, <code>{n,m}</code></li><li>Alternation: <code>a|b</code></li><li>Grouping: <code>(abc)</code></li><li>Escapes: <code>\n</code>, <code>\t</code>, <code>\r</code>, <code>\.</code> etc.</li><li>Anchors: <code>^</code>, <code>$</code> (treated as zero-width, always match)</li><li>Dot: <code>.</code> (matches printable ASCII)</li></ul><h3>Limitations</h3><ul><li>No support for backreferences (<code>\1</code>, <code>\2</code>, etc.)</li><li>No support for word boundaries (<code>\b</code>)</li><li>No support for lookahead/lookbehind</li><li>No Unicode character classes</li><li><code>*</code> and <code>+</code> are bounded to prevent infinite generation</li></ul><h3>Example</h3><pre>import Haskemathesis.Gen.Pattern (genFromPattern)
import Hedgehog (Gen)

emailPatternGen :: Gen Text
emailPatternGen = genFromPattern &quot;[a-z]+@[a-z]+\.[a-z]{2,4}&quot;
</pre></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:genFromPattern">genFromPattern</a> :: <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/text-2.1.3-cd15/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="file:///nix/store/4n4z2liv1a3rcrl66a6rrlxnr1azv1dp-hedgehog-1.5-doc/share/doc/hedgehog-1.5/html/Hedgehog.html#t:Gen" title="Hedgehog">Gen</a> <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/text-2.1.3-cd15/Data-Text.html#t:Text" title="Data.Text">Text</a>)</li><li class="src short"><a href="#v:genFromPatternWithLength">genFromPatternWithLength</a> :: <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/text-2.1.3-cd15/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="file:///nix/store/4n4z2liv1a3rcrl66a6rrlxnr1azv1dp-hedgehog-1.5-doc/share/doc/hedgehog-1.5/html/Hedgehog.html#t:Gen" title="Hedgehog">Gen</a> <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/text-2.1.3-cd15/Data-Text.html#t:Text" title="Data.Text">Text</a>)</li><li class="src short"><a href="#v:generateMatchesFromText">generateMatchesFromText</a> :: <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/text-2.1.3-cd15/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; [<a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/text-2.1.3-cd15/Data-Text.html#t:Text" title="Data.Text">Text</a>]</li><li class="src short"><a href="#v:generateMatches">generateMatches</a> :: <a href="file:///nix/store/v07gkhnhzrn709r6wcybz5khw75mz421-regex-tdfa-1.3.2.5-doc/share/doc/regex-tdfa-1.3.2.5/html/Text-Regex-TDFA-Pattern.html#t:Pattern" title="Text.Regex.TDFA.Pattern">Pattern</a> -&gt; [<a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/text-2.1.3-cd15/Data-Text.html#t:Text" title="Data.Text">Text</a>]</li><li class="src short"><a href="#v:parsePattern">parsePattern</a> :: <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/v07gkhnhzrn709r6wcybz5khw75mz421-regex-tdfa-1.3.2.5-doc/share/doc/regex-tdfa-1.3.2.5/html/Text-Regex-TDFA-Pattern.html#t:Pattern" title="Text.Regex.TDFA.Pattern">Pattern</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:genFromPattern" class="def">genFromPattern</a> :: <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/text-2.1.3-cd15/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="file:///nix/store/4n4z2liv1a3rcrl66a6rrlxnr1azv1dp-hedgehog-1.5-doc/share/doc/hedgehog-1.5/html/Hedgehog.html#t:Gen" title="Hedgehog">Gen</a> <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/text-2.1.3-cd15/Data-Text.html#t:Text" title="Data.Text">Text</a>) <a href="src/Haskemathesis.Gen.Pattern.html#genFromPattern" class="link">Source</a> <a href="#v:genFromPattern" class="selflink">#</a></p><div class="doc"><p>Generate a Hedgehog generator for strings matching a regex pattern.</p><p>The generator picks uniformly from a set of possible matches.
For unbounded patterns, only a limited set is generated.</p><p>Returns <code><a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> if the pattern cannot be parsed.</p></div></div><div class="top"><p class="src"><a id="v:genFromPatternWithLength" class="def">genFromPatternWithLength</a> :: <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/text-2.1.3-cd15/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="file:///nix/store/4n4z2liv1a3rcrl66a6rrlxnr1azv1dp-hedgehog-1.5-doc/share/doc/hedgehog-1.5/html/Hedgehog.html#t:Gen" title="Hedgehog">Gen</a> <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/text-2.1.3-cd15/Data-Text.html#t:Text" title="Data.Text">Text</a>) <a href="src/Haskemathesis.Gen.Pattern.html#genFromPatternWithLength" class="link">Source</a> <a href="#v:genFromPatternWithLength" class="selflink">#</a></p><div class="doc"><p>Generate a Hedgehog generator for strings matching a regex pattern,
with optional length constraints.</p><p>Returns <code><a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> if the pattern cannot be parsed or no matches satisfy
the length constraints.</p></div></div><div class="top"><p class="src"><a id="v:generateMatchesFromText" class="def">generateMatchesFromText</a> :: <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/text-2.1.3-cd15/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; [<a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/text-2.1.3-cd15/Data-Text.html#t:Text" title="Data.Text">Text</a>] <a href="src/Haskemathesis.Gen.Pattern.html#generateMatchesFromText" class="link">Source</a> <a href="#v:generateMatchesFromText" class="selflink">#</a></p><div class="doc"><p>Generate matching strings from a text pattern.
Convenience function for testing.</p></div></div><div class="top"><p class="src"><a id="v:generateMatches" class="def">generateMatches</a> :: <a href="file:///nix/store/v07gkhnhzrn709r6wcybz5khw75mz421-regex-tdfa-1.3.2.5-doc/share/doc/regex-tdfa-1.3.2.5/html/Text-Regex-TDFA-Pattern.html#t:Pattern" title="Text.Regex.TDFA.Pattern">Pattern</a> -&gt; [<a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/text-2.1.3-cd15/Data-Text.html#t:Text" title="Data.Text">Text</a>] <a href="src/Haskemathesis.Gen.Pattern.html#generateMatches" class="link">Source</a> <a href="#v:generateMatches" class="selflink">#</a></p><div class="doc"><p>Generate all matching strings for a pattern (up to a limit).
Uses LogicT for fair enumeration.</p></div></div><div class="top"><p class="src"><a id="v:parsePattern" class="def">parsePattern</a> :: <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="${pkgroot}/../../../../i6dn6airzp2fb6gj0vqpriavxp098129-ghc-9.10.3-doc/share/doc/ghc/html/libraries/base-4.20.2.0-7807/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/v07gkhnhzrn709r6wcybz5khw75mz421-regex-tdfa-1.3.2.5-doc/share/doc/regex-tdfa-1.3.2.5/html/Text-Regex-TDFA-Pattern.html#t:Pattern" title="Text.Regex.TDFA.Pattern">Pattern</a> <a href="src/Haskemathesis.Gen.Pattern.html#parsePattern" class="link">Source</a> <a href="#v:parsePattern" class="selflink">#</a></p><div class="doc"><p>Parse a regex string into a Pattern, normalizing it for generation.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.31.1</p></div></body></html>