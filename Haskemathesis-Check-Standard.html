<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Haskemathesis.Check.Standard</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">haskemathesis-0.1.0.0</span><ul class="links" id="page-menu"><li><a href="src/Haskemathesis.Check.Standard.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Haskemathesis.Check.Standard</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Check Sets</a></li><li><a href="#g:2">Individual Checks</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Built-in response checks and default check sets.</p><p>This module provides a collection of standard checks for validating
API responses against OpenAPI specifications. These checks cover
common validation scenarios like status codes, response schemas,
content types, and headers.</p><h3>Using Default Check Sets</h3><p>For most use cases, you can use one of the predefined check sets:</p><pre>import Haskemathesis.Check.Standard (defaultChecks)
import Haskemathesis.Property (propertiesForSpec)

props = propertiesForSpec Nothing defaultChecks executor ops
</pre><h3>Available Check Sets</h3><ul><li><code><a href="Haskemathesis-Check-Standard.html#v:defaultChecks" title="Haskemathesis.Check.Standard">defaultChecks</a></code> - Essential checks (server errors, schema conformance, status codes)</li><li><code><a href="Haskemathesis-Check-Standard.html#v:allChecks" title="Haskemathesis.Check.Standard">allChecks</a></code> - All available checks including content type and header validation</li></ul><h3>Creating Custom Check Sets</h3><p>You can combine individual checks to create custom check sets:</p><pre>myChecks :: [Check]
myChecks =
    [ notAServerError
    , responseSchemaConformance
    , statusCodeConformance
    ]
</pre></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:defaultChecks">defaultChecks</a> :: [<a href="Haskemathesis-Check-Types.html#t:Check" title="Haskemathesis.Check.Types">Check</a>]</li><li class="src short"><a href="#v:allChecks">allChecks</a> :: [<a href="Haskemathesis-Check-Types.html#t:Check" title="Haskemathesis.Check.Types">Check</a>]</li><li class="src short"><a href="#v:notAServerError">notAServerError</a> :: <a href="Haskemathesis-Check-Types.html#t:Check" title="Haskemathesis.Check.Types">Check</a></li><li class="src short"><a href="#v:responseSchemaConformance">responseSchemaConformance</a> :: <a href="Haskemathesis-Check-Types.html#t:Check" title="Haskemathesis.Check.Types">Check</a></li><li class="src short"><a href="#v:statusCodeConformance">statusCodeConformance</a> :: <a href="Haskemathesis-Check-Types.html#t:Check" title="Haskemathesis.Check.Types">Check</a></li><li class="src short"><a href="#v:contentTypeConformance">contentTypeConformance</a> :: <a href="Haskemathesis-Check-Types.html#t:Check" title="Haskemathesis.Check.Types">Check</a></li><li class="src short"><a href="#v:responseHeadersConformance">responseHeadersConformance</a> :: <a href="Haskemathesis-Check-Types.html#t:Check" title="Haskemathesis.Check.Types">Check</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Check Sets</h1></a><div class="top"><p class="src"><a id="v:defaultChecks" class="def">defaultChecks</a> :: [<a href="Haskemathesis-Check-Types.html#t:Check" title="Haskemathesis.Check.Types">Check</a>] <a href="src/Haskemathesis.Check.Standard.html#defaultChecks" class="link">Source</a> <a href="#v:defaultChecks" class="selflink">#</a></p><div class="doc"><p>Default set of essential checks.</p><p>This check set includes the most important validations that every
API should pass:</p><ul><li><code><a href="Haskemathesis-Check-Standard.html#v:notAServerError" title="Haskemathesis.Check.Standard">notAServerError</a></code> - Ensures no 5xx status codes</li><li><code><a href="Haskemathesis-Check-Standard.html#v:responseSchemaConformance" title="Haskemathesis.Check.Standard">responseSchemaConformance</a></code> - Validates response bodies against schemas</li><li><code><a href="Haskemathesis-Check-Standard.html#v:statusCodeConformance" title="Haskemathesis.Check.Standard">statusCodeConformance</a></code> - Ensures status codes are documented</li></ul><h3>When to Use</h3><p>Use this as a starting point for most API testing scenarios. It provides
good coverage without being overly strict.</p></div></div><div class="top"><p class="src"><a id="v:allChecks" class="def">allChecks</a> :: [<a href="Haskemathesis-Check-Types.html#t:Check" title="Haskemathesis.Check.Types">Check</a>] <a href="src/Haskemathesis.Check.Standard.html#allChecks" class="link">Source</a> <a href="#v:allChecks" class="selflink">#</a></p><div class="doc"><p>Complete set of all available standard checks.</p><p>This check set includes all validations from <code><a href="Haskemathesis-Check-Standard.html#v:defaultChecks" title="Haskemathesis.Check.Standard">defaultChecks</a></code> plus:</p><ul><li><code><a href="Haskemathesis-Check-Standard.html#v:contentTypeConformance" title="Haskemathesis.Check.Standard">contentTypeConformance</a></code> - Validates Content-Type headers</li><li><code><a href="Haskemathesis-Check-Standard.html#v:responseHeadersConformance" title="Haskemathesis.Check.Standard">responseHeadersConformance</a></code> - Validates response headers against schemas</li></ul><h3>When to Use</h3><p>Use this when you want maximum validation coverage. Note that some
APIs may need to relax certain checks (e.g., if they intentionally
return non-standard content types).</p></div></div><a href="#g:2" id="g:2"><h1>Individual Checks</h1></a><div class="top"><p class="src"><a id="v:notAServerError" class="def">notAServerError</a> :: <a href="Haskemathesis-Check-Types.html#t:Check" title="Haskemathesis.Check.Types">Check</a> <a href="src/Haskemathesis.Check.Standard.Status.html#notAServerError" class="link">Source</a> <a href="#v:notAServerError" class="selflink">#</a></p><div class="doc"><p>Check that the API does not return a server error (5xx status code).</p><p>This is a fundamental availability check that ensures the server is
functioning correctly. Any 5xx response indicates a server-side failure
that should be investigated.</p><h4>Behavior</h4><ul><li><strong>Passes</strong> when the response status code is less than 500</li><li><strong>Fails</strong> when the response status code is 500 or higher</li></ul><h4>Example</h4><pre>-- Include in your standard checks
checks = [<code><a href="Haskemathesis-Check-Standard.html#v:notAServerError" title="Haskemathesis.Check.Standard">notAServerError</a></code>, <code><a href="Haskemathesis-Check-Standard.html#v:statusCodeConformance" title="Haskemathesis.Check.Standard">statusCodeConformance</a></code>]
</pre></div></div><div class="top"><p class="src"><a id="v:responseSchemaConformance" class="def">responseSchemaConformance</a> :: <a href="Haskemathesis-Check-Types.html#t:Check" title="Haskemathesis.Check.Types">Check</a> <a href="src/Haskemathesis.Check.Standard.ResponseSchema.html#responseSchemaConformance" class="link">Source</a> <a href="#v:responseSchemaConformance" class="selflink">#</a></p><div class="doc"><p>Check that the response body conforms to the documented JSON schema.</p><p>This check validates the response body against the JSON Schema defined
in the OpenAPI specification for the given status code and content type.
It performs full schema validation including type checks, constraints,
and nested object/array validation.</p><h4>Behavior</h4><ul><li><strong>Passes</strong> when no schema is defined for the response</li><li><strong>Passes</strong> when the response body validates against the schema</li><li><strong>Fails</strong> when the response body is not valid JSON</li><li><strong>Fails</strong> when the response body violates schema constraints</li></ul><h4>Validation includes</h4><ul><li>Type checking (string, integer, number, boolean, array, object, null)</li><li>String constraints (minLength, maxLength, pattern, format)</li><li>Numeric constraints (minimum, maximum, exclusiveMinimum, exclusiveMaximum)</li><li>Array constraints (minItems, maxItems, uniqueItems)</li><li>Object constraints (required properties, additionalProperties)</li><li>Composition keywords (oneOf, anyOf, allOf)</li></ul><h4>Example</h4><pre>-- Include schema validation in your checks
checks = [<code><a href="Haskemathesis-Check-Standard.html#v:responseSchemaConformance" title="Haskemathesis.Check.Standard">responseSchemaConformance</a></code>, <code>notAServerError</code>]
</pre></div></div><div class="top"><p class="src"><a id="v:statusCodeConformance" class="def">statusCodeConformance</a> :: <a href="Haskemathesis-Check-Types.html#t:Check" title="Haskemathesis.Check.Types">Check</a> <a href="src/Haskemathesis.Check.Standard.Status.html#statusCodeConformance" class="link">Source</a> <a href="#v:statusCodeConformance" class="selflink">#</a></p><div class="doc"><p>Check that the response status code is documented in the OpenAPI spec.</p><p>This check validates that every status code returned by the API is either:</p><ul><li>Explicitly documented in the operation's <code>responses</code> object</li><li>Covered by a <code>default</code> response specification</li></ul><p>Undocumented status codes indicate incomplete API documentation or
unexpected API behavior.</p><h4>Behavior</h4><ul><li><strong>Passes</strong> when the status code is documented or a default response exists</li><li><strong>Fails</strong> when the status code is not documented and no default exists</li></ul><h4>Example</h4><pre>-- Ensure all responses match documentation
checks = [<code><a href="Haskemathesis-Check-Standard.html#v:notAServerError" title="Haskemathesis.Check.Standard">notAServerError</a></code>, <code><a href="Haskemathesis-Check-Standard.html#v:statusCodeConformance" title="Haskemathesis.Check.Standard">statusCodeConformance</a></code>]
</pre></div></div><div class="top"><p class="src"><a id="v:contentTypeConformance" class="def">contentTypeConformance</a> :: <a href="Haskemathesis-Check-Types.html#t:Check" title="Haskemathesis.Check.Types">Check</a> <a href="src/Haskemathesis.Check.Standard.ContentType.html#contentTypeConformance" class="link">Source</a> <a href="#v:contentTypeConformance" class="selflink">#</a></p><div class="doc"><p>Check that the response Content-Type header matches documented media types.</p><p>This check validates that every response includes a Content-Type header
when expected, and that the content type matches one of the media types
documented in the OpenAPI specification for that status code.</p><h4>Behavior</h4><ul><li><strong>Passes</strong> when no response schema is defined for the status code</li><li><strong>Passes</strong> when the response content map is empty (no media types documented)</li><li><strong>Passes</strong> when the Content-Type matches a documented media type</li><li><strong>Fails</strong> when the response is missing a Content-Type header</li><li><strong>Fails</strong> when the Content-Type doesn't match any documented media type</li></ul><h4>Media type matching</h4><p>The check performs flexible media type matching, accounting for:</p><ul><li>Character set parameters (e.g., <code>application/json; charset=utf-8</code>)</li><li>Media type wildcards in the specification</li></ul><h4>Example</h4><pre>-- Include content type validation in your checks
checks = [<code><a href="Haskemathesis-Check-Standard.html#v:contentTypeConformance" title="Haskemathesis.Check.Standard">contentTypeConformance</a></code>, <code>responseSchemaConformance</code>]
</pre></div></div><div class="top"><p class="src"><a id="v:responseHeadersConformance" class="def">responseHeadersConformance</a> :: <a href="Haskemathesis-Check-Types.html#t:Check" title="Haskemathesis.Check.Types">Check</a> <a href="src/Haskemathesis.Check.Standard.Headers.html#responseHeadersConformance" class="link">Source</a> <a href="#v:responseHeadersConformance" class="selflink">#</a></p><div class="doc"><p>Check that response headers conform to the OpenAPI specification.</p><p>This check validates response headers in two ways:</p><ol><li value="1"><strong>Required headers</strong>: Verifies that all headers marked as required
  in the spec are present in the response</li><li value="2"><strong>Schema validation</strong>: Validates header values against their
  documented JSON schemas</li></ol><h4>Behavior</h4><ul><li><strong>Passes</strong> when no response schema is defined for the status code</li><li><strong>Passes</strong> when all required headers are present and valid</li><li><strong>Fails</strong> when a required header is missing</li><li><strong>Fails</strong> when a header value violates its schema</li></ul><h4>Header value parsing</h4><p>Header values are parsed according to their schema type:</p><ul><li><code>string</code> - Used as-is (with quotes stripped if present)</li><li><code>integer</code> / <code>number</code> - Parsed as numeric values</li><li><code>boolean</code> - Parsed from &quot;true&quot; or &quot;false&quot; (case-insensitive)</li><li><code>array</code> - Parsed from comma-separated values or multiple headers</li></ul><h4>Example</h4><pre>-- Include header validation in your checks
checks = [<code><a href="Haskemathesis-Check-Standard.html#v:responseHeadersConformance" title="Haskemathesis.Check.Standard">responseHeadersConformance</a></code>, <code>contentTypeConformance</code>]
</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.31.1</p></div></body></html>