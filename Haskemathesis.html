<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Haskemathesis</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">haskemathesis-0.1.0.0</span><ul class="links" id="page-menu"><li><a href="src/Haskemathesis.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) 2026 Weyl AI</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>luke@weyl.ai</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Haskemathesis</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Configuration</a></li><li><a href="#g:2">Integration</a></li><li><a href="#g:3">Loading Specifications</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><h1>Haskemathesis: OpenAPI Property-Based Testing</h1><p>Haskemathesis is a property-based testing library that automatically generates test cases
from your OpenAPI 3.0 specification. It validates that your API implementation conforms
to its specification by generating random requests and verifying the responses.</p><h2>Key Features</h2><ul><li><strong>Automatic Request Generation</strong>: Generates valid random requests based on your OpenAPI schema</li><li><strong>Comprehensive Validation</strong>: Validates status codes, response bodies, headers, and content types</li><li><strong>Negative Testing</strong>: Automatically generates invalid requests to test error handling</li><li><strong>Framework Integration</strong>: Seamlessly integrates with Hspec and Tasty</li><li><strong>Flexible Execution</strong>: Test WAI applications directly or remote HTTP servers</li></ul><h2>Quick Start</h2><h3>1. Define your API</h3><p>Ensure you have an OpenAPI 3.0 specification for your API. This can be a YAML or JSON file,
or generated from code.</p><h3>2. Create a Test Suite</h3><p>Use the integration modules to create a test suite. Here's an example using Hspec and a WAI application:</p><pre>import Test.Hspec
import Haskemathesis.Integration.Hspec
import Haskemathesis.Config (defaultConfig)
import Haskemathesis.OpenApi.Loader (loadOpenApi)
import MyApp (myApp) -- Your WAI application

main :: IO ()
main = do
    -- Load the OpenAPI specification
    openApi &lt;- loadOpenApi &quot;openapi.yaml&quot;

    hspec $ do
        describe &quot;API Conformance&quot; $ do
            -- Test all operations defined in the spec
            specForApp defaultConfig openApi myApp

            -- Run negative tests (send invalid data)
            specForAppNegative defaultConfig openApi myApp
</pre><h2>Configuration</h2><p>You can customize the testing behavior using <code><a href="Haskemathesis-Config.html#t:TestConfig" title="Haskemathesis.Config">TestConfig</a></code>:</p><pre>import Haskemathesis.Config

myConfig :: TestConfig
myConfig = defaultConfig
    { tcTestCount = 50           -- Number of tests per operation
    , tcExcludeOperations =      -- Skip specific operations
        [ &quot;deleteUser&quot;           -- By operationId
        , &quot;POST <em>admin</em>reset&quot;    -- By method and path
        ]
    , tcHeaders =                -- Add global headers (e.g., auth)
        [ (<a href="Authorization.html">Authorization</a>, &quot;Bearer token123&quot;) ]
    }
</pre><h2>Core Concepts</h2><h3>Generators</h3><p>Haskemathesis uses <code>Hedgehog</code> to generate random data. The generation logic is handled by:</p><ul><li><a href="Haskemathesis-Gen-Request.html">Haskemathesis.Gen.Request</a> - Generates full API requests</li><li><a href="Haskemathesis-Gen-Core.html">Haskemathesis.Gen.Core</a> - Generates JSON values from schemas</li><li><a href="Haskemathesis-Gen-Negative.html">Haskemathesis.Gen.Negative</a> - Generates invalid requests for negative testing</li></ul><h3>Checks</h3><p>Validation is performed by <code>Check</code> functions. The standard checks are:</p><ul><li><a href="Haskemathesis-Check-Standard-Status.html">Haskemathesis.Check.Standard.Status</a> - Validates status codes</li><li><a href="Haskemathesis-Check-Standard-ResponseSchema.html">Haskemathesis.Check.Standard.ResponseSchema</a> - Validates response bodies against schemas</li><li><a href="Haskemathesis-Check-Standard-Headers.html">Haskemathesis.Check.Standard.Headers</a> - Validates response headers</li><li><a href="Haskemathesis-Check-Standard-ContentType.html">Haskemathesis.Check.Standard.ContentType</a> - Validates Content-Type headers</li></ul><h3>Integrations</h3><ul><li><a href="Haskemathesis-Integration-Hspec.html">Haskemathesis.Integration.Hspec</a> - Integration with Hspec</li><li><a href="Haskemathesis-Integration-Tasty.html">Haskemathesis.Integration.Tasty</a> - Integration with Tasty</li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short">module <a href="Haskemathesis-Config.html">Haskemathesis.Config</a></li><li class="src short">module <a href="Haskemathesis-Integration-Hspec.html">Haskemathesis.Integration.Hspec</a></li><li class="src short">module <a href="Haskemathesis-Integration-Tasty.html">Haskemathesis.Integration.Tasty</a></li><li class="src short">module <a href="Haskemathesis-OpenApi-Loader.html">Haskemathesis.OpenApi.Loader</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Configuration</h1></a><div class="top"><p class="src">module <a href="Haskemathesis-Config.html">Haskemathesis.Config</a></p></div><a href="#g:2" id="g:2"><h1>Integration</h1></a><div class="top"><p class="src">module <a href="Haskemathesis-Integration-Hspec.html">Haskemathesis.Integration.Hspec</a></p></div><div class="top"><p class="src">module <a href="Haskemathesis-Integration-Tasty.html">Haskemathesis.Integration.Tasty</a></p></div><a href="#g:3" id="g:3"><h1>Loading Specifications</h1></a><div class="top"><p class="src">module <a href="Haskemathesis-OpenApi-Loader.html">Haskemathesis.OpenApi.Loader</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.31.1</p></div></body></html>