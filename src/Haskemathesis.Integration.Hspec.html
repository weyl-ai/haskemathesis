<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="annot"><span class="hs-comment">{- |
Module      : Haskemathesis.Integration.Hspec
Description : Hspec test framework integration
Stability   : experimental

This module provides integration with the Hspec testing framework,
allowing you to run OpenAPI conformance tests as part of your Hspec
test suite. It supports both standard conformance testing and negative
testing modes.

==== Quick Start

@
import Test.Hspec
import Haskemathesis.Integration.Hspec
import Haskemathesis.Config

main :: IO ()
main = hspec $ specForAppWithConfig defaultConfig openApiSpec myApp
@
-}</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Haskemathesis.Integration.Hspec.html"><span class="hs-identifier">Haskemathesis.Integration.Hspec</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-25"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Standard testing (WAI Application)</span></span><span>
</span><span id="line-26"></span><span>    </span><span class="annot"><a href="Haskemathesis.Integration.Hspec.html#specForApp"><span class="hs-identifier">specForApp</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>    </span><span class="annot"><a href="Haskemathesis.Integration.Hspec.html#specForAppWithConfig"><span class="hs-identifier">specForAppWithConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Standard testing (custom executor)</span></span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><a href="Haskemathesis.Integration.Hspec.html#specForExecutor"><span class="hs-identifier">specForExecutor</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>    </span><span class="annot"><a href="Haskemathesis.Integration.Hspec.html#specForExecutorWithConfig"><span class="hs-identifier">specForExecutorWithConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Standard testing (HTTP client)</span></span><span>
</span><span id="line-34"></span><span>    </span><span class="annot"><a href="Haskemathesis.Integration.Hspec.html#specForUrl"><span class="hs-identifier">specForUrl</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Negative testing</span></span><span>
</span><span id="line-37"></span><span>    </span><span class="annot"><a href="Haskemathesis.Integration.Hspec.html#specForExecutorNegative"><span class="hs-identifier">specForExecutorNegative</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>    </span><span class="annot"><a href="Haskemathesis.Integration.Hspec.html#specForAppNegative"><span class="hs-identifier">specForAppNegative</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>    </span><span class="annot"><a href="Haskemathesis.Integration.Hspec.html#specForUrlNegative"><span class="hs-identifier">specForUrlNegative</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">where</span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/n9bq8nyqbcrs9rhllk8bh2xqlhba601s-openapi3-3.2.4-doc/share/doc/openapi3-3.2.4/html/src/Data.OpenApi.html"><span class="hs-identifier">Data.OpenApi</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/n9bq8nyqbcrs9rhllk8bh2xqlhba601s-openapi3-3.2.4-doc/share/doc/openapi3-3.2.4/html/src/Data.OpenApi.Internal.html#OpenApi"><span class="hs-identifier">OpenApi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Haskemathesis.Check.Standard.Helpers.html"><span class="hs-identifier">Haskemathesis.Check.Standard.Helpers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Haskemathesis.Check.Standard.Helpers.html#operationLabel"><span class="hs-identifier">operationLabel</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Haskemathesis.Check.Types.html"><span class="hs-identifier">Haskemathesis.Check.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Haskemathesis.Check.Types.html#Check"><span class="hs-identifier">Check</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Haskemathesis.Config.html"><span class="hs-identifier">Haskemathesis.Config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Haskemathesis.Config.html#TestConfig"><span class="hs-identifier">TestConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Haskemathesis.Execute.Http.html"><span class="hs-identifier">Haskemathesis.Execute.Http</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Haskemathesis.Execute.Http.html#executeHttpWithTimeout"><span class="hs-identifier">executeHttpWithTimeout</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Haskemathesis.Execute.Types.html"><span class="hs-identifier">Haskemathesis.Execute.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Haskemathesis.Execute.Types.html#BaseUrl"><span class="hs-identifier">BaseUrl</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Haskemathesis.Execute.Types.html#ExecutorWithTimeout"><span class="hs-identifier">ExecutorWithTimeout</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Haskemathesis.Execute.Wai.html"><span class="hs-identifier">Haskemathesis.Execute.Wai</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Haskemathesis.Execute.Wai.html#executeWaiWithTimeout"><span class="hs-identifier">executeWaiWithTimeout</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Haskemathesis.OpenApi.Resolve.html"><span class="hs-identifier">Haskemathesis.OpenApi.Resolve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Haskemathesis.OpenApi.Resolve.html#resolveOperations"><span class="hs-identifier">resolveOperations</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Haskemathesis.OpenApi.Types.html"><span class="hs-identifier">Haskemathesis.OpenApi.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Haskemathesis.OpenApi.Types.html#ResolvedOperation"><span class="hs-identifier">ResolvedOperation</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Haskemathesis.Property.html"><span class="hs-identifier">Haskemathesis.Property</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Haskemathesis.Property.html#propertyForOperation"><span class="hs-identifier">propertyForOperation</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Haskemathesis.Property.html#propertyForOperationWithConfig"><span class="hs-identifier">propertyForOperationWithConfig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/4n4z2liv1a3rcrl66a6rrlxnr1azv1dp-hedgehog-1.5-doc/share/doc/hedgehog-1.5/html/src/Hedgehog.html"><span class="hs-identifier">Hedgehog</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/4n4z2liv1a3rcrl66a6rrlxnr1azv1dp-hedgehog-1.5-doc/share/doc/hedgehog-1.5/html/src/Hedgehog.Internal.Runner.html#check"><span class="hs-identifier">check</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/bnr86jl784iw2vjhcpn7dxsaycwawf4d-http-client-0.7.19-doc/share/doc/http-client-0.7.19/html/src/Network.HTTP.Client.html"><span class="hs-identifier">Network.HTTP.Client</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/bnr86jl784iw2vjhcpn7dxsaycwawf4d-http-client-0.7.19-doc/share/doc/http-client-0.7.19/html/src/Network.HTTP.Client.Types.html#Manager"><span class="hs-identifier">Manager</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/lwc9snjq2izyxa0840h8rp6r9f5za4cc-wai-3.2.4-doc/share/doc/wai-3.2.4/html/src/Network.Wai.html"><span class="hs-identifier">Network.Wai</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/lwc9snjq2izyxa0840h8rp6r9f5za4cc-wai-3.2.4-doc/share/doc/wai-3.2.4/html/src/Network.Wai.html#Application"><span class="hs-identifier">Application</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/5vhgdsj280ak61aqxp82icikr96pb068-hspec-2.11.16-doc/share/doc/hspec-2.11.16/html/src/Test.Hspec.html"><span class="hs-identifier">Test.Hspec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/f98mchpydblqajbgb2szi2ff2a54j5f3-hspec-core-2.11.16-doc/share/doc/hspec-core-2.11.16/html/src/Test.Hspec.Core.Spec.Monad.html#Spec"><span class="hs-identifier">Spec</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/f98mchpydblqajbgb2szi2ff2a54j5f3-hspec-core-2.11.16-doc/share/doc/hspec-core-2.11.16/html/src/Test.Hspec.Core.Spec.html#describe"><span class="hs-identifier">describe</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/f98mchpydblqajbgb2szi2ff2a54j5f3-hspec-core-2.11.16-doc/share/doc/hspec-core-2.11.16/html/src/Test.Hspec.Core.Spec.html#it"><span class="hs-identifier">it</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/1nmdwaznq5zz7pf0m9bzlzalx84lw4b5-hspec-expectations-0.8.4-doc/share/doc/hspec-expectations-0.8.4/html/src/Test.Hspec.Expectations.html#shouldBe"><span class="hs-identifier">shouldBe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span class="annot"><span class="hs-comment">{- | Create an Hspec 'Spec' from pre-resolved operations with a custom executor.

This is the most flexible form, allowing you to provide your own request
executor function and pre-resolved operations. Use this when you need
fine-grained control over request execution.

==== Parameters

* @mBase@ - Optional base URL for error reporting
* @checks@ - List of conformance checks to run
* @execute@ - Function to execute API requests
* @ops@ - List of resolved operations to test

==== Example

@
spec :: Spec
spec = specForExecutor (Just &quot;http://localhost:8080&quot;) checks myExecutor ops
@
-}</span></span><span>
</span><span id="line-79"></span><span class="annot"><a href="Haskemathesis.Integration.Hspec.html#specForExecutor"><span class="hs-identifier hs-type">specForExecutor</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-80"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Haskemathesis.Execute.Types.html#BaseUrl"><span class="hs-identifier hs-type">BaseUrl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-81"></span><span>    </span><span class="hs-special">[</span><span class="annot"><a href="Haskemathesis.Check.Types.html#Check"><span class="hs-identifier hs-type">Check</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-82"></span><span>    </span><span class="annot"><a href="Haskemathesis.Execute.Types.html#ExecutorWithTimeout"><span class="hs-identifier hs-type">ExecutorWithTimeout</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-83"></span><span>    </span><span class="hs-special">[</span><span class="annot"><a href="Haskemathesis.OpenApi.Types.html#ResolvedOperation"><span class="hs-identifier hs-type">ResolvedOperation</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-84"></span><span>    </span><span class="annot"><a href="file:///nix/store/f98mchpydblqajbgb2szi2ff2a54j5f3-hspec-core-2.11.16-doc/share/doc/hspec-core-2.11.16/html/src/Test.Hspec.Core.Spec.Monad.html#Spec"><span class="hs-identifier hs-type">Spec</span></a></span><span>
</span><span id="line-85"></span><span id="specForExecutor"><span class="annot"><span class="annottext">specForExecutor :: Maybe BaseUrl
-&gt; [Check] -&gt; ExecutorWithTimeout -&gt; [ResolvedOperation] -&gt; Spec
</span><a href="Haskemathesis.Integration.Hspec.html#specForExecutor"><span class="hs-identifier hs-var hs-var">specForExecutor</span></a></span></span><span> </span><span id="local-6989586621679224390"><span class="annot"><span class="annottext">Maybe BaseUrl
</span><a href="#local-6989586621679224390"><span class="hs-identifier hs-var">mBase</span></a></span></span><span> </span><span id="local-6989586621679224391"><span class="annot"><span class="annottext">[Check]
</span><a href="#local-6989586621679224391"><span class="hs-identifier hs-var">checks</span></a></span></span><span> </span><span id="local-6989586621679224392"><span class="annot"><span class="annottext">ExecutorWithTimeout
</span><a href="#local-6989586621679224392"><span class="hs-identifier hs-var">execute</span></a></span></span><span> </span><span id="local-6989586621679224393"><span class="annot"><span class="annottext">[ResolvedOperation]
</span><a href="#local-6989586621679224393"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-86"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; Spec -&gt; Spec
forall a. HasCallStack =&gt; String -&gt; SpecWith a -&gt; SpecWith a
</span><a href="file:///nix/store/f98mchpydblqajbgb2szi2ff2a54j5f3-hspec-core-2.11.16-doc/share/doc/hspec-core-2.11.16/html/src/Test.Hspec.Core.Spec.html#describe"><span class="hs-identifier hs-var">describe</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;OpenAPI Conformance&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Spec -&gt; Spec) -&gt; Spec -&gt; Spec
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-87"></span><span>        </span><span class="annot"><span class="annottext">(ResolvedOperation -&gt; Spec) -&gt; [ResolvedOperation] -&gt; Spec
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><span class="hs-identifier hs-var">mapM_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe BaseUrl
-&gt; [Check] -&gt; ExecutorWithTimeout -&gt; ResolvedOperation -&gt; Spec
</span><a href="Haskemathesis.Integration.Hspec.html#specForOperation"><span class="hs-identifier hs-var">specForOperation</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe BaseUrl
</span><a href="#local-6989586621679224390"><span class="hs-identifier hs-var">mBase</span></a></span><span> </span><span class="annot"><span class="annottext">[Check]
</span><a href="#local-6989586621679224391"><span class="hs-identifier hs-var">checks</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutorWithTimeout
</span><a href="#local-6989586621679224392"><span class="hs-identifier hs-var">execute</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ResolvedOperation]
</span><a href="#local-6989586621679224393"><span class="hs-identifier hs-var">ops</span></a></span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span class="annot"><span class="hs-comment">{- | Create an Hspec 'Spec' for a WAI 'Application'.

This is the simplest way to test a WAI application against an OpenAPI
specification. Operations are automatically resolved from the spec.

==== Parameters

* @mBase@ - Optional base URL for error reporting
* @checks@ - List of conformance checks to run
* @openApi@ - The OpenAPI specification
* @app@ - The WAI application to test

==== Example

@
import Haskemathesis.Check.Standard (standardChecks)

spec :: Spec
spec = specForApp Nothing standardChecks openApiSpec myApp
@
-}</span></span><span>
</span><span id="line-110"></span><span class="annot"><a href="Haskemathesis.Integration.Hspec.html#specForApp"><span class="hs-identifier hs-type">specForApp</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-111"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Haskemathesis.Execute.Types.html#BaseUrl"><span class="hs-identifier hs-type">BaseUrl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-112"></span><span>    </span><span class="hs-special">[</span><span class="annot"><a href="Haskemathesis.Check.Types.html#Check"><span class="hs-identifier hs-type">Check</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-113"></span><span>    </span><span class="annot"><a href="file:///nix/store/n9bq8nyqbcrs9rhllk8bh2xqlhba601s-openapi3-3.2.4-doc/share/doc/openapi3-3.2.4/html/src/Data.OpenApi.Internal.html#OpenApi"><span class="hs-identifier hs-type">OpenApi</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-114"></span><span>    </span><span class="annot"><a href="file:///nix/store/lwc9snjq2izyxa0840h8rp6r9f5za4cc-wai-3.2.4-doc/share/doc/wai-3.2.4/html/src/Network.Wai.html#Application"><span class="hs-identifier hs-type">Application</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-115"></span><span>    </span><span class="annot"><a href="file:///nix/store/f98mchpydblqajbgb2szi2ff2a54j5f3-hspec-core-2.11.16-doc/share/doc/hspec-core-2.11.16/html/src/Test.Hspec.Core.Spec.Monad.html#Spec"><span class="hs-identifier hs-type">Spec</span></a></span><span>
</span><span id="line-116"></span><span id="specForApp"><span class="annot"><span class="annottext">specForApp :: Maybe BaseUrl -&gt; [Check] -&gt; OpenApi -&gt; Application -&gt; Spec
</span><a href="Haskemathesis.Integration.Hspec.html#specForApp"><span class="hs-identifier hs-var hs-var">specForApp</span></a></span></span><span> </span><span id="local-6989586621679224396"><span class="annot"><span class="annottext">Maybe BaseUrl
</span><a href="#local-6989586621679224396"><span class="hs-identifier hs-var">mBase</span></a></span></span><span> </span><span id="local-6989586621679224397"><span class="annot"><span class="annottext">[Check]
</span><a href="#local-6989586621679224397"><span class="hs-identifier hs-var">checks</span></a></span></span><span> </span><span id="local-6989586621679224398"><span class="annot"><span class="annottext">OpenApi
</span><a href="#local-6989586621679224398"><span class="hs-identifier hs-var">openApi</span></a></span></span><span> </span><span id="local-6989586621679224399"><span class="annot"><span class="annottext">Application
</span><a href="#local-6989586621679224399"><span class="hs-identifier hs-var">app</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-117"></span><span>    </span><span class="annot"><span class="annottext">Maybe BaseUrl
-&gt; [Check] -&gt; ExecutorWithTimeout -&gt; [ResolvedOperation] -&gt; Spec
</span><a href="Haskemathesis.Integration.Hspec.html#specForExecutor"><span class="hs-identifier hs-var">specForExecutor</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe BaseUrl
</span><a href="#local-6989586621679224396"><span class="hs-identifier hs-var">mBase</span></a></span><span> </span><span class="annot"><span class="annottext">[Check]
</span><a href="#local-6989586621679224397"><span class="hs-identifier hs-var">checks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Application -&gt; ExecutorWithTimeout
</span><a href="Haskemathesis.Execute.Wai.html#executeWaiWithTimeout"><span class="hs-identifier hs-var">executeWaiWithTimeout</span></a></span><span> </span><span class="annot"><span class="annottext">Application
</span><a href="#local-6989586621679224399"><span class="hs-identifier hs-var">app</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OpenApi -&gt; [ResolvedOperation]
</span><a href="Haskemathesis.OpenApi.Resolve.html#resolveOperations"><span class="hs-identifier hs-var">resolveOperations</span></a></span><span> </span><span class="annot"><span class="annottext">OpenApi
</span><a href="#local-6989586621679224398"><span class="hs-identifier hs-var">openApi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span class="annot"><span class="hs-comment">{- | Create an Hspec 'Spec' with full configuration and custom executor.

This variant allows you to use a 'TestConfig' for fine-grained control
over test behavior including operation filtering, authentication, and
negative testing.

==== Parameters

* @openApi@ - The OpenAPI specification (used for request generation)
* @config@ - Test configuration
* @execute@ - Function to execute API requests
* @ops@ - List of resolved operations to test

==== Example

@
let config = defaultConfig { tcTestCount = 50 }
spec = specForExecutorWithConfig openApiSpec config myExecutor ops
@
-}</span></span><span>
</span><span id="line-139"></span><span class="annot"><a href="Haskemathesis.Integration.Hspec.html#specForExecutorWithConfig"><span class="hs-identifier hs-type">specForExecutorWithConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-140"></span><span>    </span><span class="annot"><a href="file:///nix/store/n9bq8nyqbcrs9rhllk8bh2xqlhba601s-openapi3-3.2.4-doc/share/doc/openapi3-3.2.4/html/src/Data.OpenApi.Internal.html#OpenApi"><span class="hs-identifier hs-type">OpenApi</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-141"></span><span>    </span><span class="annot"><a href="Haskemathesis.Config.html#TestConfig"><span class="hs-identifier hs-type">TestConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-142"></span><span>    </span><span class="annot"><a href="Haskemathesis.Execute.Types.html#ExecutorWithTimeout"><span class="hs-identifier hs-type">ExecutorWithTimeout</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-143"></span><span>    </span><span class="hs-special">[</span><span class="annot"><a href="Haskemathesis.OpenApi.Types.html#ResolvedOperation"><span class="hs-identifier hs-type">ResolvedOperation</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-144"></span><span>    </span><span class="annot"><a href="file:///nix/store/f98mchpydblqajbgb2szi2ff2a54j5f3-hspec-core-2.11.16-doc/share/doc/hspec-core-2.11.16/html/src/Test.Hspec.Core.Spec.Monad.html#Spec"><span class="hs-identifier hs-type">Spec</span></a></span><span>
</span><span id="line-145"></span><span id="specForExecutorWithConfig"><span class="annot"><span class="annottext">specForExecutorWithConfig :: OpenApi
-&gt; TestConfig -&gt; ExecutorWithTimeout -&gt; [ResolvedOperation] -&gt; Spec
</span><a href="Haskemathesis.Integration.Hspec.html#specForExecutorWithConfig"><span class="hs-identifier hs-var hs-var">specForExecutorWithConfig</span></a></span></span><span> </span><span id="local-6989586621679224401"><span class="annot"><span class="annottext">OpenApi
</span><a href="#local-6989586621679224401"><span class="hs-identifier hs-var">openApi</span></a></span></span><span> </span><span id="local-6989586621679224402"><span class="annot"><span class="annottext">TestConfig
</span><a href="#local-6989586621679224402"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621679224403"><span class="annot"><span class="annottext">ExecutorWithTimeout
</span><a href="#local-6989586621679224403"><span class="hs-identifier hs-var">execute</span></a></span></span><span> </span><span id="local-6989586621679224404"><span class="annot"><span class="annottext">[ResolvedOperation]
</span><a href="#local-6989586621679224404"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-146"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; Spec -&gt; Spec
forall a. HasCallStack =&gt; String -&gt; SpecWith a -&gt; SpecWith a
</span><a href="file:///nix/store/f98mchpydblqajbgb2szi2ff2a54j5f3-hspec-core-2.11.16-doc/share/doc/hspec-core-2.11.16/html/src/Test.Hspec.Core.Spec.html#describe"><span class="hs-identifier hs-var">describe</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;OpenAPI Conformance&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Spec -&gt; Spec) -&gt; Spec -&gt; Spec
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-147"></span><span>        </span><span class="annot"><span class="annottext">(ResolvedOperation -&gt; Spec) -&gt; [ResolvedOperation] -&gt; Spec
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><span class="hs-identifier hs-var">mapM_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OpenApi
-&gt; TestConfig -&gt; ExecutorWithTimeout -&gt; ResolvedOperation -&gt; Spec
</span><a href="Haskemathesis.Integration.Hspec.html#specForOperationWithConfig"><span class="hs-identifier hs-var">specForOperationWithConfig</span></a></span><span> </span><span class="annot"><span class="annottext">OpenApi
</span><a href="#local-6989586621679224401"><span class="hs-identifier hs-var">openApi</span></a></span><span> </span><span class="annot"><span class="annottext">TestConfig
</span><a href="#local-6989586621679224402"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutorWithTimeout
</span><a href="#local-6989586621679224403"><span class="hs-identifier hs-var">execute</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ResolvedOperation]
</span><a href="#local-6989586621679224404"><span class="hs-identifier hs-var">ops</span></a></span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span class="annot"><span class="hs-comment">{- | Create an Hspec 'Spec' for a WAI 'Application' with full configuration.

Combines the convenience of WAI application testing with the flexibility
of 'TestConfig'. This is the recommended approach for most use cases.

==== Parameters

* @config@ - Test configuration
* @openApi@ - The OpenAPI specification
* @app@ - The WAI application to test

==== Example

@
import Haskemathesis.Config

spec :: Spec
spec = specForAppWithConfig defaultConfig openApiSpec myApp
@
-}</span></span><span>
</span><span id="line-169"></span><span class="annot"><a href="Haskemathesis.Integration.Hspec.html#specForAppWithConfig"><span class="hs-identifier hs-type">specForAppWithConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-170"></span><span>    </span><span class="annot"><a href="Haskemathesis.Config.html#TestConfig"><span class="hs-identifier hs-type">TestConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-171"></span><span>    </span><span class="annot"><a href="file:///nix/store/n9bq8nyqbcrs9rhllk8bh2xqlhba601s-openapi3-3.2.4-doc/share/doc/openapi3-3.2.4/html/src/Data.OpenApi.Internal.html#OpenApi"><span class="hs-identifier hs-type">OpenApi</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-172"></span><span>    </span><span class="annot"><a href="file:///nix/store/lwc9snjq2izyxa0840h8rp6r9f5za4cc-wai-3.2.4-doc/share/doc/wai-3.2.4/html/src/Network.Wai.html#Application"><span class="hs-identifier hs-type">Application</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-173"></span><span>    </span><span class="annot"><a href="file:///nix/store/f98mchpydblqajbgb2szi2ff2a54j5f3-hspec-core-2.11.16-doc/share/doc/hspec-core-2.11.16/html/src/Test.Hspec.Core.Spec.Monad.html#Spec"><span class="hs-identifier hs-type">Spec</span></a></span><span>
</span><span id="line-174"></span><span id="specForAppWithConfig"><span class="annot"><span class="annottext">specForAppWithConfig :: TestConfig -&gt; OpenApi -&gt; Application -&gt; Spec
</span><a href="Haskemathesis.Integration.Hspec.html#specForAppWithConfig"><span class="hs-identifier hs-var hs-var">specForAppWithConfig</span></a></span></span><span> </span><span id="local-6989586621679224406"><span class="annot"><span class="annottext">TestConfig
</span><a href="#local-6989586621679224406"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621679224407"><span class="annot"><span class="annottext">OpenApi
</span><a href="#local-6989586621679224407"><span class="hs-identifier hs-var">openApi</span></a></span></span><span> </span><span id="local-6989586621679224408"><span class="annot"><span class="annottext">Application
</span><a href="#local-6989586621679224408"><span class="hs-identifier hs-var">app</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-175"></span><span>    </span><span class="annot"><span class="annottext">OpenApi
-&gt; TestConfig -&gt; ExecutorWithTimeout -&gt; [ResolvedOperation] -&gt; Spec
</span><a href="Haskemathesis.Integration.Hspec.html#specForExecutorWithConfig"><span class="hs-identifier hs-var">specForExecutorWithConfig</span></a></span><span> </span><span class="annot"><span class="annottext">OpenApi
</span><a href="#local-6989586621679224407"><span class="hs-identifier hs-var">openApi</span></a></span><span> </span><span class="annot"><span class="annottext">TestConfig
</span><a href="#local-6989586621679224406"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Application -&gt; ExecutorWithTimeout
</span><a href="Haskemathesis.Execute.Wai.html#executeWaiWithTimeout"><span class="hs-identifier hs-var">executeWaiWithTimeout</span></a></span><span> </span><span class="annot"><span class="annottext">Application
</span><a href="#local-6989586621679224408"><span class="hs-identifier hs-var">app</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OpenApi -&gt; [ResolvedOperation]
</span><a href="Haskemathesis.OpenApi.Resolve.html#resolveOperations"><span class="hs-identifier hs-var">resolveOperations</span></a></span><span> </span><span class="annot"><span class="annottext">OpenApi
</span><a href="#local-6989586621679224407"><span class="hs-identifier hs-var">openApi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span class="annot"><span class="hs-comment">{- | Create an Hspec 'Spec' for testing a remote HTTP server.

This variant uses an HTTP client manager to make real network requests
to a running server. Useful for integration testing against deployed
services or external APIs.

==== Parameters

* @config@ - Test configuration
* @openApi@ - The OpenAPI specification
* @manager@ - HTTP client manager for making requests
* @baseUrl@ - Base URL of the server to test

==== Example

@
import Network.HTTP.Client (newManager, defaultManagerSettings)

spec :: Spec
spec = do
   manager &lt;- runIO $ newManager defaultManagerSettings
   specForUrl defaultConfig openApiSpec manager &quot;http://localhost:8080&quot;
@
-}</span></span><span>
</span><span id="line-201"></span><span class="annot"><a href="Haskemathesis.Integration.Hspec.html#specForUrl"><span class="hs-identifier hs-type">specForUrl</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-202"></span><span>    </span><span class="annot"><a href="Haskemathesis.Config.html#TestConfig"><span class="hs-identifier hs-type">TestConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-203"></span><span>    </span><span class="annot"><a href="file:///nix/store/n9bq8nyqbcrs9rhllk8bh2xqlhba601s-openapi3-3.2.4-doc/share/doc/openapi3-3.2.4/html/src/Data.OpenApi.Internal.html#OpenApi"><span class="hs-identifier hs-type">OpenApi</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-204"></span><span>    </span><span class="annot"><a href="file:///nix/store/bnr86jl784iw2vjhcpn7dxsaycwawf4d-http-client-0.7.19-doc/share/doc/http-client-0.7.19/html/src/Network.HTTP.Client.Types.html#Manager"><span class="hs-identifier hs-type">Manager</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-205"></span><span>    </span><span class="annot"><a href="Haskemathesis.Execute.Types.html#BaseUrl"><span class="hs-identifier hs-type">BaseUrl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-206"></span><span>    </span><span class="annot"><a href="file:///nix/store/f98mchpydblqajbgb2szi2ff2a54j5f3-hspec-core-2.11.16-doc/share/doc/hspec-core-2.11.16/html/src/Test.Hspec.Core.Spec.Monad.html#Spec"><span class="hs-identifier hs-type">Spec</span></a></span><span>
</span><span id="line-207"></span><span id="specForUrl"><span class="annot"><span class="annottext">specForUrl :: TestConfig -&gt; OpenApi -&gt; Manager -&gt; BaseUrl -&gt; Spec
</span><a href="Haskemathesis.Integration.Hspec.html#specForUrl"><span class="hs-identifier hs-var hs-var">specForUrl</span></a></span></span><span> </span><span id="local-6989586621679224409"><span class="annot"><span class="annottext">TestConfig
</span><a href="#local-6989586621679224409"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621679224410"><span class="annot"><span class="annottext">OpenApi
</span><a href="#local-6989586621679224410"><span class="hs-identifier hs-var">openApi</span></a></span></span><span> </span><span id="local-6989586621679224411"><span class="annot"><span class="annottext">Manager
</span><a href="#local-6989586621679224411"><span class="hs-identifier hs-var">manager</span></a></span></span><span> </span><span id="local-6989586621679224412"><span class="annot"><span class="annottext">BaseUrl
</span><a href="#local-6989586621679224412"><span class="hs-identifier hs-var">baseUrl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-208"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679224413"><span class="annot"><span class="annottext">config' :: TestConfig
</span><a href="#local-6989586621679224413"><span class="hs-identifier hs-var hs-var">config'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TestConfig
</span><a href="#local-6989586621679224409"><span class="hs-identifier hs-var">config</span></a></span><span class="hs-special">{</span><span class="annot"><a href="Haskemathesis.Config.html#tcBaseUrl"><span class="hs-identifier hs-var">tcBaseUrl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="#local-6989586621679224412"><span class="hs-identifier hs-type">baseUrl</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-209"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">OpenApi
-&gt; TestConfig -&gt; ExecutorWithTimeout -&gt; [ResolvedOperation] -&gt; Spec
</span><a href="Haskemathesis.Integration.Hspec.html#specForExecutorWithConfig"><span class="hs-identifier hs-var">specForExecutorWithConfig</span></a></span><span> </span><span class="annot"><span class="annottext">OpenApi
</span><a href="#local-6989586621679224410"><span class="hs-identifier hs-var">openApi</span></a></span><span> </span><span class="annot"><span class="annottext">TestConfig
</span><a href="#local-6989586621679224413"><span class="hs-identifier hs-var">config'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Manager -&gt; BaseUrl -&gt; ExecutorWithTimeout
</span><a href="Haskemathesis.Execute.Http.html#executeHttpWithTimeout"><span class="hs-identifier hs-var">executeHttpWithTimeout</span></a></span><span> </span><span class="annot"><span class="annottext">Manager
</span><a href="#local-6989586621679224411"><span class="hs-identifier hs-var">manager</span></a></span><span> </span><span class="annot"><span class="annottext">BaseUrl
</span><a href="#local-6989586621679224412"><span class="hs-identifier hs-var">baseUrl</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OpenApi -&gt; [ResolvedOperation]
</span><a href="Haskemathesis.OpenApi.Resolve.html#resolveOperations"><span class="hs-identifier hs-var">resolveOperations</span></a></span><span> </span><span class="annot"><span class="annottext">OpenApi
</span><a href="#local-6989586621679224410"><span class="hs-identifier hs-var">openApi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span class="annot"><span class="hs-comment">{- | Create an Hspec 'Spec' for negative testing with a custom executor.

Negative testing sends intentionally malformed requests to verify that
the API correctly rejects invalid input. This helps ensure proper input
validation and error handling.

==== Parameters

* @openApi@ - The OpenAPI specification
* @config@ - Test configuration (negative testing is enabled automatically)
* @execute@ - Function to execute API requests
* @ops@ - List of resolved operations to test

==== What is tested

* Missing required parameters (path, query, header)
* Invalid parameter values (wrong types)
* Invalid request bodies
* Wrong content types
-}</span></span><span>
</span><span id="line-231"></span><span class="annot"><a href="Haskemathesis.Integration.Hspec.html#specForExecutorNegative"><span class="hs-identifier hs-type">specForExecutorNegative</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-232"></span><span>    </span><span class="annot"><a href="file:///nix/store/n9bq8nyqbcrs9rhllk8bh2xqlhba601s-openapi3-3.2.4-doc/share/doc/openapi3-3.2.4/html/src/Data.OpenApi.Internal.html#OpenApi"><span class="hs-identifier hs-type">OpenApi</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-233"></span><span>    </span><span class="annot"><a href="Haskemathesis.Config.html#TestConfig"><span class="hs-identifier hs-type">TestConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-234"></span><span>    </span><span class="annot"><a href="Haskemathesis.Execute.Types.html#ExecutorWithTimeout"><span class="hs-identifier hs-type">ExecutorWithTimeout</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-235"></span><span>    </span><span class="hs-special">[</span><span class="annot"><a href="Haskemathesis.OpenApi.Types.html#ResolvedOperation"><span class="hs-identifier hs-type">ResolvedOperation</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-236"></span><span>    </span><span class="annot"><a href="file:///nix/store/f98mchpydblqajbgb2szi2ff2a54j5f3-hspec-core-2.11.16-doc/share/doc/hspec-core-2.11.16/html/src/Test.Hspec.Core.Spec.Monad.html#Spec"><span class="hs-identifier hs-type">Spec</span></a></span><span>
</span><span id="line-237"></span><span id="specForExecutorNegative"><span class="annot"><span class="annottext">specForExecutorNegative :: OpenApi
-&gt; TestConfig -&gt; ExecutorWithTimeout -&gt; [ResolvedOperation] -&gt; Spec
</span><a href="Haskemathesis.Integration.Hspec.html#specForExecutorNegative"><span class="hs-identifier hs-var hs-var">specForExecutorNegative</span></a></span></span><span> </span><span id="local-6989586621679224415"><span class="annot"><span class="annottext">OpenApi
</span><a href="#local-6989586621679224415"><span class="hs-identifier hs-var">openApi</span></a></span></span><span> </span><span id="local-6989586621679224416"><span class="annot"><span class="annottext">TestConfig
</span><a href="#local-6989586621679224416"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621679224417"><span class="annot"><span class="annottext">ExecutorWithTimeout
</span><a href="#local-6989586621679224417"><span class="hs-identifier hs-var">execute</span></a></span></span><span> </span><span id="local-6989586621679224418"><span class="annot"><span class="annottext">[ResolvedOperation]
</span><a href="#local-6989586621679224418"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-238"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679224419"><span class="annot"><span class="annottext">config' :: TestConfig
</span><a href="#local-6989586621679224419"><span class="hs-identifier hs-var hs-var">config'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TestConfig
</span><a href="#local-6989586621679224416"><span class="hs-identifier hs-var">config</span></a></span><span class="hs-special">{</span><span class="annot"><a href="Haskemathesis.Config.html#tcNegativeTesting"><span class="hs-identifier hs-var">tcNegativeTesting</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span class="hs-special">}</span><span>
</span><span id="line-239"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">OpenApi
-&gt; TestConfig -&gt; ExecutorWithTimeout -&gt; [ResolvedOperation] -&gt; Spec
</span><a href="Haskemathesis.Integration.Hspec.html#specForExecutorWithConfig"><span class="hs-identifier hs-var">specForExecutorWithConfig</span></a></span><span> </span><span class="annot"><span class="annottext">OpenApi
</span><a href="#local-6989586621679224415"><span class="hs-identifier hs-var">openApi</span></a></span><span> </span><span class="annot"><span class="annottext">TestConfig
</span><a href="#local-6989586621679224419"><span class="hs-identifier hs-var">config'</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutorWithTimeout
</span><a href="#local-6989586621679224417"><span class="hs-identifier hs-var">execute</span></a></span><span> </span><span class="annot"><span class="annottext">[ResolvedOperation]
</span><a href="#local-6989586621679224418"><span class="hs-identifier hs-var">ops</span></a></span><span>
</span><span id="line-240"></span><span>
</span><span id="line-241"></span><span class="annot"><span class="hs-comment">{- | Create an Hspec 'Spec' for negative testing of a WAI 'Application'.

Convenience wrapper around 'specForExecutorNegative' for WAI applications.

==== Parameters

* @config@ - Test configuration
* @openApi@ - The OpenAPI specification
* @app@ - The WAI application to test

==== Example

@
-- Test that invalid requests are properly rejected
negativeSpec :: Spec
negativeSpec = specForAppNegative defaultConfig openApiSpec myApp
@
-}</span></span><span>
</span><span id="line-259"></span><span class="annot"><a href="Haskemathesis.Integration.Hspec.html#specForAppNegative"><span class="hs-identifier hs-type">specForAppNegative</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-260"></span><span>    </span><span class="annot"><a href="Haskemathesis.Config.html#TestConfig"><span class="hs-identifier hs-type">TestConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-261"></span><span>    </span><span class="annot"><a href="file:///nix/store/n9bq8nyqbcrs9rhllk8bh2xqlhba601s-openapi3-3.2.4-doc/share/doc/openapi3-3.2.4/html/src/Data.OpenApi.Internal.html#OpenApi"><span class="hs-identifier hs-type">OpenApi</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-262"></span><span>    </span><span class="annot"><a href="file:///nix/store/lwc9snjq2izyxa0840h8rp6r9f5za4cc-wai-3.2.4-doc/share/doc/wai-3.2.4/html/src/Network.Wai.html#Application"><span class="hs-identifier hs-type">Application</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-263"></span><span>    </span><span class="annot"><a href="file:///nix/store/f98mchpydblqajbgb2szi2ff2a54j5f3-hspec-core-2.11.16-doc/share/doc/hspec-core-2.11.16/html/src/Test.Hspec.Core.Spec.Monad.html#Spec"><span class="hs-identifier hs-type">Spec</span></a></span><span>
</span><span id="line-264"></span><span id="specForAppNegative"><span class="annot"><span class="annottext">specForAppNegative :: TestConfig -&gt; OpenApi -&gt; Application -&gt; Spec
</span><a href="Haskemathesis.Integration.Hspec.html#specForAppNegative"><span class="hs-identifier hs-var hs-var">specForAppNegative</span></a></span></span><span> </span><span id="local-6989586621679224421"><span class="annot"><span class="annottext">TestConfig
</span><a href="#local-6989586621679224421"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621679224422"><span class="annot"><span class="annottext">OpenApi
</span><a href="#local-6989586621679224422"><span class="hs-identifier hs-var">openApi</span></a></span></span><span> </span><span id="local-6989586621679224423"><span class="annot"><span class="annottext">Application
</span><a href="#local-6989586621679224423"><span class="hs-identifier hs-var">app</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-265"></span><span>    </span><span class="annot"><span class="annottext">OpenApi
-&gt; TestConfig -&gt; ExecutorWithTimeout -&gt; [ResolvedOperation] -&gt; Spec
</span><a href="Haskemathesis.Integration.Hspec.html#specForExecutorNegative"><span class="hs-identifier hs-var">specForExecutorNegative</span></a></span><span> </span><span class="annot"><span class="annottext">OpenApi
</span><a href="#local-6989586621679224422"><span class="hs-identifier hs-var">openApi</span></a></span><span> </span><span class="annot"><span class="annottext">TestConfig
</span><a href="#local-6989586621679224421"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Application -&gt; ExecutorWithTimeout
</span><a href="Haskemathesis.Execute.Wai.html#executeWaiWithTimeout"><span class="hs-identifier hs-var">executeWaiWithTimeout</span></a></span><span> </span><span class="annot"><span class="annottext">Application
</span><a href="#local-6989586621679224423"><span class="hs-identifier hs-var">app</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OpenApi -&gt; [ResolvedOperation]
</span><a href="Haskemathesis.OpenApi.Resolve.html#resolveOperations"><span class="hs-identifier hs-var">resolveOperations</span></a></span><span> </span><span class="annot"><span class="annottext">OpenApi
</span><a href="#local-6989586621679224422"><span class="hs-identifier hs-var">openApi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span class="annot"><span class="hs-comment">{- | Create an Hspec 'Spec' for negative testing of a remote HTTP server.

Convenience wrapper around 'specForExecutorNegative' for HTTP testing.

==== Parameters

* @config@ - Test configuration
* @openApi@ - The OpenAPI specification
* @manager@ - HTTP client manager for making requests
* @baseUrl@ - Base URL of the server to test

==== Example

@
-- Test that the remote server rejects invalid requests
negativeSpec :: Spec
negativeSpec = do
   manager &lt;- runIO $ newManager defaultManagerSettings
   specForUrlNegative defaultConfig openApiSpec manager &quot;http://localhost:8080&quot;
@
-}</span></span><span>
</span><span id="line-288"></span><span class="annot"><a href="Haskemathesis.Integration.Hspec.html#specForUrlNegative"><span class="hs-identifier hs-type">specForUrlNegative</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-289"></span><span>    </span><span class="annot"><a href="Haskemathesis.Config.html#TestConfig"><span class="hs-identifier hs-type">TestConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-290"></span><span>    </span><span class="annot"><a href="file:///nix/store/n9bq8nyqbcrs9rhllk8bh2xqlhba601s-openapi3-3.2.4-doc/share/doc/openapi3-3.2.4/html/src/Data.OpenApi.Internal.html#OpenApi"><span class="hs-identifier hs-type">OpenApi</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-291"></span><span>    </span><span class="annot"><a href="file:///nix/store/bnr86jl784iw2vjhcpn7dxsaycwawf4d-http-client-0.7.19-doc/share/doc/http-client-0.7.19/html/src/Network.HTTP.Client.Types.html#Manager"><span class="hs-identifier hs-type">Manager</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-292"></span><span>    </span><span class="annot"><a href="Haskemathesis.Execute.Types.html#BaseUrl"><span class="hs-identifier hs-type">BaseUrl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-293"></span><span>    </span><span class="annot"><a href="file:///nix/store/f98mchpydblqajbgb2szi2ff2a54j5f3-hspec-core-2.11.16-doc/share/doc/hspec-core-2.11.16/html/src/Test.Hspec.Core.Spec.Monad.html#Spec"><span class="hs-identifier hs-type">Spec</span></a></span><span>
</span><span id="line-294"></span><span id="specForUrlNegative"><span class="annot"><span class="annottext">specForUrlNegative :: TestConfig -&gt; OpenApi -&gt; Manager -&gt; BaseUrl -&gt; Spec
</span><a href="Haskemathesis.Integration.Hspec.html#specForUrlNegative"><span class="hs-identifier hs-var hs-var">specForUrlNegative</span></a></span></span><span> </span><span id="local-6989586621679224424"><span class="annot"><span class="annottext">TestConfig
</span><a href="#local-6989586621679224424"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621679224425"><span class="annot"><span class="annottext">OpenApi
</span><a href="#local-6989586621679224425"><span class="hs-identifier hs-var">openApi</span></a></span></span><span> </span><span id="local-6989586621679224426"><span class="annot"><span class="annottext">Manager
</span><a href="#local-6989586621679224426"><span class="hs-identifier hs-var">manager</span></a></span></span><span> </span><span id="local-6989586621679224427"><span class="annot"><span class="annottext">BaseUrl
</span><a href="#local-6989586621679224427"><span class="hs-identifier hs-var">baseUrl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-295"></span><span>    </span><span class="annot"><span class="annottext">OpenApi
-&gt; TestConfig -&gt; ExecutorWithTimeout -&gt; [ResolvedOperation] -&gt; Spec
</span><a href="Haskemathesis.Integration.Hspec.html#specForExecutorNegative"><span class="hs-identifier hs-var">specForExecutorNegative</span></a></span><span> </span><span class="annot"><span class="annottext">OpenApi
</span><a href="#local-6989586621679224425"><span class="hs-identifier hs-var">openApi</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TestConfig
</span><a href="#local-6989586621679224424"><span class="hs-identifier hs-var">config</span></a></span><span class="hs-special">{</span><span class="annot"><a href="Haskemathesis.Config.html#tcBaseUrl"><span class="hs-identifier hs-var">tcBaseUrl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="#local-6989586621679224427"><span class="hs-identifier hs-type">baseUrl</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Manager -&gt; BaseUrl -&gt; ExecutorWithTimeout
</span><a href="Haskemathesis.Execute.Http.html#executeHttpWithTimeout"><span class="hs-identifier hs-var">executeHttpWithTimeout</span></a></span><span> </span><span class="annot"><span class="annottext">Manager
</span><a href="#local-6989586621679224426"><span class="hs-identifier hs-var">manager</span></a></span><span> </span><span class="annot"><span class="annottext">BaseUrl
</span><a href="#local-6989586621679224427"><span class="hs-identifier hs-var">baseUrl</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OpenApi -&gt; [ResolvedOperation]
</span><a href="Haskemathesis.OpenApi.Resolve.html#resolveOperations"><span class="hs-identifier hs-var">resolveOperations</span></a></span><span> </span><span class="annot"><span class="annottext">OpenApi
</span><a href="#local-6989586621679224425"><span class="hs-identifier hs-var">openApi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span class="annot"><a href="Haskemathesis.Integration.Hspec.html#specForOperation"><span class="hs-identifier hs-type">specForOperation</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-298"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Haskemathesis.Execute.Types.html#BaseUrl"><span class="hs-identifier hs-type">BaseUrl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-299"></span><span>    </span><span class="hs-special">[</span><span class="annot"><a href="Haskemathesis.Check.Types.html#Check"><span class="hs-identifier hs-type">Check</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-300"></span><span>    </span><span class="annot"><a href="Haskemathesis.Execute.Types.html#ExecutorWithTimeout"><span class="hs-identifier hs-type">ExecutorWithTimeout</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-301"></span><span>    </span><span class="annot"><a href="Haskemathesis.OpenApi.Types.html#ResolvedOperation"><span class="hs-identifier hs-type">ResolvedOperation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-302"></span><span>    </span><span class="annot"><a href="file:///nix/store/f98mchpydblqajbgb2szi2ff2a54j5f3-hspec-core-2.11.16-doc/share/doc/hspec-core-2.11.16/html/src/Test.Hspec.Core.Spec.Monad.html#Spec"><span class="hs-identifier hs-type">Spec</span></a></span><span>
</span><span id="line-303"></span><span id="specForOperation"><span class="annot"><span class="annottext">specForOperation :: Maybe BaseUrl
-&gt; [Check] -&gt; ExecutorWithTimeout -&gt; ResolvedOperation -&gt; Spec
</span><a href="Haskemathesis.Integration.Hspec.html#specForOperation"><span class="hs-identifier hs-var hs-var">specForOperation</span></a></span></span><span> </span><span id="local-6989586621679224428"><span class="annot"><span class="annottext">Maybe BaseUrl
</span><a href="#local-6989586621679224428"><span class="hs-identifier hs-var">mBase</span></a></span></span><span> </span><span id="local-6989586621679224429"><span class="annot"><span class="annottext">[Check]
</span><a href="#local-6989586621679224429"><span class="hs-identifier hs-var">checks</span></a></span></span><span> </span><span id="local-6989586621679224430"><span class="annot"><span class="annottext">ExecutorWithTimeout
</span><a href="#local-6989586621679224430"><span class="hs-identifier hs-var">execute</span></a></span></span><span> </span><span id="local-6989586621679224431"><span class="annot"><span class="annottext">ResolvedOperation
</span><a href="#local-6989586621679224431"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-304"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; IO () -&gt; SpecWith (Arg (IO ()))
forall a.
(HasCallStack, Example a) =&gt;
String -&gt; a -&gt; SpecWith (Arg a)
</span><a href="file:///nix/store/f98mchpydblqajbgb2szi2ff2a54j5f3-hspec-core-2.11.16-doc/share/doc/hspec-core-2.11.16/html/src/Test.Hspec.Core.Spec.html#it"><span class="hs-identifier hs-var">it</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BaseUrl -&gt; String
</span><span class="hs-identifier hs-var">T.unpack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ResolvedOperation -&gt; BaseUrl
</span><a href="Haskemathesis.Check.Standard.Helpers.html#operationLabel"><span class="hs-identifier hs-var">operationLabel</span></a></span><span> </span><span class="annot"><span class="annottext">ResolvedOperation
</span><a href="#local-6989586621679224431"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; SpecWith (Arg (IO ())))
-&gt; IO () -&gt; SpecWith (Arg (IO ()))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-305"></span><span>        </span><span class="annot"><span class="annottext">Property -&gt; IO Bool
forall (m :: * -&gt; *). MonadIO m =&gt; Property -&gt; m Bool
</span><a href="file:///nix/store/4n4z2liv1a3rcrl66a6rrlxnr1azv1dp-hedgehog-1.5-doc/share/doc/hedgehog-1.5/html/src/Hedgehog.Internal.Runner.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe BaseUrl
-&gt; [Check] -&gt; ExecutorWithTimeout -&gt; ResolvedOperation -&gt; Property
</span><a href="Haskemathesis.Property.html#propertyForOperation"><span class="hs-identifier hs-var">propertyForOperation</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe BaseUrl
</span><a href="#local-6989586621679224428"><span class="hs-identifier hs-var">mBase</span></a></span><span> </span><span class="annot"><span class="annottext">[Check]
</span><a href="#local-6989586621679224429"><span class="hs-identifier hs-var">checks</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutorWithTimeout
</span><a href="#local-6989586621679224430"><span class="hs-identifier hs-var">execute</span></a></span><span> </span><span class="annot"><span class="annottext">ResolvedOperation
</span><a href="#local-6989586621679224431"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IO Bool -&gt; (Bool -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; IO ()
forall a. (HasCallStack, Show a, Eq a) =&gt; a -&gt; a -&gt; IO ()
</span><a href="file:///nix/store/1nmdwaznq5zz7pf0m9bzlzalx84lw4b5-hspec-expectations-0.8.4-doc/share/doc/hspec-expectations-0.8.4/html/src/Test.Hspec.Expectations.html#shouldBe"><span class="hs-operator hs-var">`shouldBe`</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="annot"><a href="Haskemathesis.Integration.Hspec.html#specForOperationWithConfig"><span class="hs-identifier hs-type">specForOperationWithConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-308"></span><span>    </span><span class="annot"><a href="file:///nix/store/n9bq8nyqbcrs9rhllk8bh2xqlhba601s-openapi3-3.2.4-doc/share/doc/openapi3-3.2.4/html/src/Data.OpenApi.Internal.html#OpenApi"><span class="hs-identifier hs-type">OpenApi</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-309"></span><span>    </span><span class="annot"><a href="Haskemathesis.Config.html#TestConfig"><span class="hs-identifier hs-type">TestConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-310"></span><span>    </span><span class="annot"><a href="Haskemathesis.Execute.Types.html#ExecutorWithTimeout"><span class="hs-identifier hs-type">ExecutorWithTimeout</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-311"></span><span>    </span><span class="annot"><a href="Haskemathesis.OpenApi.Types.html#ResolvedOperation"><span class="hs-identifier hs-type">ResolvedOperation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-312"></span><span>    </span><span class="annot"><a href="file:///nix/store/f98mchpydblqajbgb2szi2ff2a54j5f3-hspec-core-2.11.16-doc/share/doc/hspec-core-2.11.16/html/src/Test.Hspec.Core.Spec.Monad.html#Spec"><span class="hs-identifier hs-type">Spec</span></a></span><span>
</span><span id="line-313"></span><span id="specForOperationWithConfig"><span class="annot"><span class="annottext">specForOperationWithConfig :: OpenApi
-&gt; TestConfig -&gt; ExecutorWithTimeout -&gt; ResolvedOperation -&gt; Spec
</span><a href="Haskemathesis.Integration.Hspec.html#specForOperationWithConfig"><span class="hs-identifier hs-var hs-var">specForOperationWithConfig</span></a></span></span><span> </span><span id="local-6989586621679224433"><span class="annot"><span class="annottext">OpenApi
</span><a href="#local-6989586621679224433"><span class="hs-identifier hs-var">openApi</span></a></span></span><span> </span><span id="local-6989586621679224434"><span class="annot"><span class="annottext">TestConfig
</span><a href="#local-6989586621679224434"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621679224435"><span class="annot"><span class="annottext">ExecutorWithTimeout
</span><a href="#local-6989586621679224435"><span class="hs-identifier hs-var">execute</span></a></span></span><span> </span><span id="local-6989586621679224436"><span class="annot"><span class="annottext">ResolvedOperation
</span><a href="#local-6989586621679224436"><span class="hs-identifier hs-var">op</span></a></span></span><span>
</span><span id="line-314"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TestConfig -&gt; ResolvedOperation -&gt; Bool
</span><a href="Haskemathesis.Config.html#tcOperationFilter"><span class="hs-identifier hs-var">tcOperationFilter</span></a></span><span> </span><span class="annot"><span class="annottext">TestConfig
</span><a href="#local-6989586621679224434"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">ResolvedOperation
</span><a href="#local-6989586621679224436"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; Spec
forall a. a -&gt; SpecM () a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-315"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-316"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; IO () -&gt; SpecWith (Arg (IO ()))
forall a.
(HasCallStack, Example a) =&gt;
String -&gt; a -&gt; SpecWith (Arg a)
</span><a href="file:///nix/store/f98mchpydblqajbgb2szi2ff2a54j5f3-hspec-core-2.11.16-doc/share/doc/hspec-core-2.11.16/html/src/Test.Hspec.Core.Spec.html#it"><span class="hs-identifier hs-var">it</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BaseUrl -&gt; String
</span><span class="hs-identifier hs-var">T.unpack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ResolvedOperation -&gt; BaseUrl
</span><a href="Haskemathesis.Check.Standard.Helpers.html#operationLabel"><span class="hs-identifier hs-var">operationLabel</span></a></span><span> </span><span class="annot"><span class="annottext">ResolvedOperation
</span><a href="#local-6989586621679224436"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; SpecWith (Arg (IO ())))
-&gt; IO () -&gt; SpecWith (Arg (IO ()))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-317"></span><span>            </span><span class="annot"><span class="annottext">Property -&gt; IO Bool
forall (m :: * -&gt; *). MonadIO m =&gt; Property -&gt; m Bool
</span><a href="file:///nix/store/4n4z2liv1a3rcrl66a6rrlxnr1azv1dp-hedgehog-1.5-doc/share/doc/hedgehog-1.5/html/src/Hedgehog.Internal.Runner.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OpenApi
-&gt; TestConfig
-&gt; ExecutorWithTimeout
-&gt; ResolvedOperation
-&gt; Property
</span><a href="Haskemathesis.Property.html#propertyForOperationWithConfig"><span class="hs-identifier hs-var">propertyForOperationWithConfig</span></a></span><span> </span><span class="annot"><span class="annottext">OpenApi
</span><a href="#local-6989586621679224433"><span class="hs-identifier hs-var">openApi</span></a></span><span> </span><span class="annot"><span class="annottext">TestConfig
</span><a href="#local-6989586621679224434"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutorWithTimeout
</span><a href="#local-6989586621679224435"><span class="hs-identifier hs-var">execute</span></a></span><span> </span><span class="annot"><span class="annottext">ResolvedOperation
</span><a href="#local-6989586621679224436"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IO Bool -&gt; (Bool -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; IO ()
forall a. (HasCallStack, Show a, Eq a) =&gt; a -&gt; a -&gt; IO ()
</span><a href="file:///nix/store/1nmdwaznq5zz7pf0m9bzlzalx84lw4b5-hspec-expectations-0.8.4-doc/share/doc/hspec-expectations-0.8.4/html/src/Test.Hspec.Expectations.html#shouldBe"><span class="hs-operator hs-var">`shouldBe`</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-318"></span></pre></body></html>